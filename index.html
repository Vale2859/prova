<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <title>Portale Farmacia Montesano ‚Äì Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="app-shell">

    <!-- ======================
         VISTA MOBILE (CARD) ‚Äì INVARIATA
         ====================== -->
    <div class="mobile-dashboard">
      <header class="m-header">
        <div class="m-logo-wrap">
          <!-- Usa il tuo logo.png / jpg -->
          <img src="logo.jpg" alt="Farmacia Montesano" class="m-logo" />
        </div>
        <button class="m-hamburger" aria-label="Menu">
          <span></span>
        </button>
      </header>

      <main class="m-main">
        <section class="m-card-grid">

          <!-- RIGA 1 -->
          <button class="m-card m-card-green" data-section="assenti">
            <div class="m-card-label">NUOVI</div>
            <div class="m-card-title">Assenti / Permessi</div>
            <div class="m-card-badge">2</div>
            <div class="m-card-icon">üìÖ</div>
          </button>

          <button class="m-card m-card-blue" data-section="turno">
            <div class="m-card-label">NUOVO</div>
            <div class="m-card-title">Farmacia di turno</div>
            <div class="m-card-badge">1</div>
            <div class="m-card-icon">‚è∞</div>
          </button>

          <!-- RIGA 2 -->
          <button class="m-card m-card-pink" data-section="comunicazioni">
            <div class="m-card-label">NUOVA</div>
            <div class="m-card-title">Comunicazioni</div>
            <div class="m-card-badge">1</div>
            <div class="m-card-icon">üì¢</div>
          </button>

          <button class="m-card m-card-teal" data-section="procedure">
            <div class="m-card-label">NUOVE</div>
            <div class="m-card-title">Procedure</div>
            <div class="m-card-icon">üìö</div>
          </button>

          <!-- RIGA 3 -->
          <button class="m-card m-card-yellow" data-section="logistica">
            <div class="m-card-label">NUOVO</div>
            <div class="m-card-title">Logistica</div>
            <div class="m-card-badge">1</div>
            <div class="m-card-icon">üì¶</div>
          </button>

          <button class="m-card m-card-cyan" data-section="magazziniera">
            <div class="m-card-label">NUOVO</div>
            <div class="m-card-title">Magazziniera</div>
            <div class="m-card-badge">2</div>
            <div class="m-card-icon">üìã</div>
          </button>

          <!-- RIGA 4 -->
          <button class="m-card m-card-orange" data-section="prodotti">
            <div class="m-card-label">NUOVI</div>
            <div class="m-card-title">Prodotti in scadenza</div>
            <div class="m-card-icon">‚è≥</div>
          </button>

          <button class="m-card m-card-green2" data-section="consumabili">
            <div class="m-card-label">NUOVO</div>
            <div class="m-card-title">Consumabili</div>
            <div class="m-card-icon">üß™</div>
          </button>

          <!-- RIGA 5 -->
          <button class="m-card m-card-blue2" data-section="consegne">
            <div class="m-card-label">NUOVO</div>
            <div class="m-card-title">Consegne / Ritiri</div>
            <div class="m-card-icon">üöö</div>
          </button>

          <button class="m-card m-card-purple" data-section="cambiocassa">
            <div class="m-card-label">NUOVO</div>
            <div class="m-card-title">Cambio cassa</div>
            <div class="m-card-icon">üí∂</div>
          </button>

          <!-- RIGA 6: ARCHIVIO A TUTTA LARGHEZZA -->
          <button class="m-card m-card-dark m-card-wide" data-section="archivio">
            <div class="m-card-title">Archivio file</div>
            <div class="m-card-icon">üóÑÔ∏è</div>
          </button>

        </section>
      </main>
    </div>

    <!-- ======================
         VISTA DESKTOP (PC)
         ====================== -->
    <div class="desktop-dashboard">
      <header class="app-header">
        <button class="desk-hamburger" aria-label="Menu principale">‚ò∞</button>
        <div class="app-header-text">
          <h1>PORTALE FARMACIA MONTESANO</h1>
          <span class="app-header__subtitle">Dashboard principale</span>
        </div>
      </header>

      <main class="desktop-grid">

        <!-- Q1 ‚Äì ALTO SINISTRA: CARD SEZIONI (3x3) -->
        <section class="quad quad-1">
          <h2 class="quad-title">Sezioni farmacia</h2>
          <div class="q1-card-grid">
            <button class="q-card q-card-green" data-section="assenti">
              <span class="q-card-label">NUOVI</span>
              <span class="q-card-title">Assenti / Permessi</span>
              <span class="q-card-icon">üìÖ</span>
            </button>

            <button class="q-card q-card-blue" data-section="turno">
              <span class="q-card-label">NUOVO</span>
              <span class="q-card-title">Farmacia di turno</span>
              <span class="q-card-icon">‚è∞</span>
            </button>

            <button class="q-card q-card-pink" data-section="comunicazioni">
              <span class="q-card-label">NUOVA</span>
              <span class="q-card-title">Comunicazioni</span>
              <span class="q-card-icon">üì¢</span>
            </button>

            <button class="q-card q-card-teal" data-section="procedure">
              <span class="q-card-label">NUOVE</span>
              <span class="q-card-title">Procedure</span>
              <span class="q-card-icon">üìö</span>
            </button>

            <button class="q-card q-card-yellow" data-section="logistica">
              <span class="q-card-label">NUOVO</span>
              <span class="q-card-title">Logistica</span>
              <span class="q-card-icon">üì¶</span>
            </button>

            <button class="q-card q-card-cyan" data-section="magazziniera">
              <span class="q-card-label">NUOVO</span>
              <span class="q-card-title">Magazziniera</span>
              <span class="q-card-icon">üìã</span>
            </button>

            <button class="q-card q-card-orange" data-section="prodotti">
              <span class="q-card-label">NUOVI</span>
              <span class="q-card-title">Prodotti in scadenza</span>
              <span class="q-card-icon">‚è≥</span>
            </button>

            <button class="q-card q-card-green2" data-section="consumabili">
              <span class="q-card-label">NUOVO</span>
              <span class="q-card-title">Consumabili</span>
              <span class="q-card-icon">üß™</span>
            </button>

            <button class="q-card q-card-purple" data-section="archivio">
              <span class="q-card-label">NUOVO</span>
              <span class="q-card-title">Archivio file</span>
              <span class="q-card-icon">üóÑÔ∏è</span>
            </button>
          </div>
        </section>

        <!-- Q2 ‚Äì ALTO DESTRA: CONTENUTO DELLE CARD -->
        <section class="quad quad-2">
          <h2 class="quad-title">Area contenuti</h2>
          <div id="q2-content" class="q2-content">
            <!-- Stato iniziale "neutro" -->
            <div class="q2-placeholder">
              <p class="q2-placeholder-main">Seleziona una funzione dalle card</p>
              <p class="q2-placeholder-sub">
                Qui vedrai in grande solo ci√≤ che ti serve: assenze approvate, turno di oggi,
                comunicazioni, scadenze, consegne, ecc.
              </p>
            </div>
          </div>
        </section>

        <!-- Q3 ‚Äì BASSO SINISTRA: OFFERTE / GIORNATE -->
        <section class="quad quad-3">
          <h2 class="quad-title">Promozioni & giornate in farmacia</h2>
          <div class="q3-columns">
            <!-- Colonna sinistra: Offerte -->
            <div class="q3-column">
              <div class="q3-header-row">
                <h3>Offerte in corso</h3>
                <button class="btn-pill" data-add="offerta">+ Aggiungi</button>
              </div>
              <ul id="offerte-list" class="promo-list">
                <!-- Popolato da JS -->
              </ul>
            </div>

            <!-- Colonna destra: Giornate in farmacia -->
            <div class="q3-column">
              <div class="q3-header-row">
                <h3>Giornate in farmacia</h3>
                <button class="btn-pill" data-add="giornata">+ Aggiungi</button>
              </div>
              <ul id="giornate-list" class="promo-list">
                <!-- Popolato da JS -->
              </ul>
            </div>
          </div>
        </section>
                <!-- Q4 ‚Äì BASSO DESTRA: AGENDA SERVIZI -->
        <section class="quad quad-4">
          <h2 class="quad-title">Agenda servizi</h2>

          <div class="agenda-header">
            <button id="agenda-prev-month" class="agenda-nav-btn">‚Äπ</button>
            <div id="agenda-month-label" class="agenda-month-label">Mese</div>
            <button id="agenda-next-month" class="agenda-nav-btn">‚Ä∫</button>
            <button id="agenda-back-month" class="agenda-back-month hidden">
              Torna alla vista mensile
            </button>
          </div>

          <div id="agenda-month-view" class="agenda-month-view">
            <!-- calendario mensile generato da JS -->
          </div>

          <div id="agenda-day-view" class="agenda-day-view hidden">
            <div id="agenda-day-label" class="agenda-day-label"></div>
            <div id="agenda-slots" class="agenda-slots">
              <!-- righe orari generate da JS -->
            </div>
          </div>
        </section>

      </main>
    </div> <!-- /desktop-dashboard -->

    <!-- ======================
         FLOATING CHAT BUTTON + MODALE
         ====================== -->

    <!-- Pallino laterale per aprire la chat -->
    <button class="chat-fab" id="chat-fab" aria-label="Apri chat interna">
      üí¨
    </button>

    <!-- Overlay / popup chat -->
    <div id="chat-overlay" class="chat-overlay hidden">
      <div class="chat-backdrop"></div>
      <div class="chat-modal">
        <header class="chat-header">
          <h2>Chat interna</h2>
          <button id="chat-close" class="chat-close-btn" aria-label="Chiudi chat">‚úï</button>
        </header>

        <div id="chat-messages" class="chat-messages">
          <!-- messaggi popolati da JS -->
        </div>

        <footer class="chat-footer">
          <div class="chat-authors">
            <!-- Pulsanti "firma" autore -->
            <button class="chat-author-btn active" data-author="titolare">TI</button>
            <button class="chat-author-btn" data-author="dip1">F1</button>
            <button class="chat-author-btn" data-author="dip2">F2</button>
          </div>

          <div class="chat-input-row">
            <button id="chat-attach-btn" class="chat-icon-btn" title="Allega file">üìé</button>
            <input type="file" id="chat-file-input" class="hidden" />
            <input
              type="text"
              id="chat-input"
              class="chat-input"
              placeholder="Scrivi un messaggio..."
            />
            <button id="chat-send-btn" class="chat-send-btn">Invia</button>
          </div>

          <div id="chat-attachment-label" class="chat-attachment-label hidden">
            Allegato: <span id="chat-attachment-name"></span>
          </div>
        </footer>
      </div>
    </div>

    <!-- ======================
         MODALE UNICA: NUOVA OFFERTA / GIORNATA & NUOVO APPUNTAMENTO
         ====================== -->
    <div id="modal-overlay" class="modal-overlay hidden">
      <div class="modal-backdrop"></div>
      <div class="modal-card" id="modal-card">
        <header class="modal-header">
          <h2 id="modal-title">Nuovo elemento</h2>
          <button id="modal-close" class="modal-close-btn" aria-label="Chiudi">‚úï</button>
        </header>

        <form id="modal-form" class="modal-form">
          <!-- Campo nascosto per tipo (offerta/giornata/appuntamento) -->
          <input type="hidden" id="modal-type" />

          <div id="modal-section-base" class="modal-section">
            <label>
              Titolo
              <input type="text" id="modal-title-input" required />
            </label>

            <label>
              Data
              <input type="date" id="modal-date-input" required />
            </label>

            <label id="modal-desc-wrapper">
              Descrizione / dettagli
              <textarea id="modal-desc-input" rows="3"></textarea>
            </label>
          </div>

          <div id="modal-section-appointment" class="modal-section hidden">
            <label>
              Ora
              <input type="time" id="modal-time-input" required />
            </label>

            <label>
              Nome e cognome
              <input type="text" id="modal-name-input" required />
            </label>

            <label>
              Motivo / servizio
              <input type="text" id="modal-reason-input" required />
            </label>
          </div>

          <div class="modal-actions">
            <button type="button" id="modal-cancel" class="btn-secondary">Annulla</button>
            <button type="submit" class="btn-primary">Salva</button>
          </div>
        </form>
      </div>
    </div>

  </div> <!-- /app-shell -->

  <script src="script.js"></script>
</body>
</html>
