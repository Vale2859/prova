<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <title>Portale Farmacia Montesano ‚Äì Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="app-shell">

    <!-- ======================
         VISTA MOBILE (INVARIATA)
         ====================== -->
    <div class="mobile-dashboard">
      <header class="m-header">
        <button class="m-hamburger" aria-label="Menu">
          <span></span>
        </button>
        <div class="m-logo-wrap">
          <img src="logo.jpg" alt="Farmacia Montesano" class="m-logo" />
        </div>
      </header>

      <main class="m-main">
        <section class="m-card-grid">

          <!-- RIGA 1 -->
          <button class="m-card m-card-green">
            <div class="m-card-label">NUOVI</div>
            <div class="m-card-title">Assenti / Permessi</div>
            <div class="m-card-badge">2</div>
            <div class="m-card-icon">üìÖ</div>
          </button>

          <button class="m-card m-card-blue">
            <div class="m-card-label">NUOVO</div>
            <div class="m-card-title">Farmacia di turno</div>
            <div class="m-card-badge">1</div>
            <div class="m-card-icon">‚è∞</div>
          </button>

          <!-- RIGA 2 -->
          <button class="m-card m-card-pink">
            <div class="m-card-label">NUOVA</div>
            <div class="m-card-title">Comunicazioni</div>
            <div class="m-card-badge">1</div>
            <div class="m-card-icon">üì¢</div>
          </button>

          <button class="m-card m-card-teal">
            <div class="m-card-label">NUOVE</div>
            <div class="m-card-title">Procedure</div>
            <div class="m-card-icon">üìö</div>
          </button>

          <!-- RIGA 3 -->
          <button class="m-card m-card-yellow">
            <div class="m-card-label">NUOVO</div>
            <div class="m-card-title">Logistica</div>
            <div class="m-card-badge">1</div>
            <div class="m-card-icon">üì¶</div>
          </button>

          <button class="m-card m-card-cyan">
            <div class="m-card-label">NUOVO</div>
            <div class="m-card-title">Magazziniera</div>
            <div class="m-card-badge">2</div>
            <div class="m-card-icon">üìã</div>
          </button>

          <!-- RIGA 4 -->
          <button class="m-card m-card-orange">
            <div class="m-card-label">NUOVI</div>
            <div class="m-card-title">Prodotti in scadenza</div>
            <div class="m-card-icon">‚è≥</div>
          </button>

          <button class="m-card m-card-green2">
            <div class="m-card-label">NUOVO</div>
            <div class="m-card-title">Consumabili</div>
            <div class="m-card-icon">üß™</div>
          </button>

          <!-- RIGA 5 -->
          <button class="m-card m-card-blue2">
            <div class="m-card-label">NUOVO</div>
            <div class="m-card-title">Consegne / Ritiri</div>
            <div class="m-card-icon">üöö</div>
          </button>

          <button class="m-card m-card-purple">
            <div class="m-card-label">NUOVO</div>
            <div class="m-card-title">Cambio cassa</div>
            <div class="m-card-icon">üí∂</div>
          </button>

          <!-- RIGA 6 -->
          <button class="m-card m-card-dark m-card-wide">
            <div class="m-card-title">Archivio file</div>
            <div class="m-card-icon">üóÑÔ∏è</div>
          </button>

        </section>
      </main>
    </div>

    <!-- ======================
         VISTA DESKTOP
         ====================== -->
    <div class="desktop-dashboard">
      <header class="desk-header">
        <button class="desk-hamburger" aria-label="Menu">
          <span></span>
        </button>

        <div class="desk-header-center">
          <h1>PORTALE FARMACIA MONTESANO</h1>
          <p class="desk-subtitle">Dashboard principale</p>
        </div>

        <div class="desk-header-right">
          <span id="desk-today-label"></span>
        </div>
      </header>

      <main class="desk-grid">

        <!-- Q1 ‚Äì SEZIONI FARMACIA -->
        <section class="card q1">
          <div class="card-title-row">
            <h2>Sezioni farmacia</h2>
            <p class="card-subtitle">Accesso rapido alle aree operative.</p>
          </div>

          <div class="q1-grid">
            <button class="section-pill section-green" data-section="assenti">
              <span class="pill-label">NUOVI</span>
              <span class="pill-title">Assenti / Permessi</span>
            </button>

            <button class="section-pill section-blue" data-section="turno">
              <span class="pill-label">NUOVO</span>
              <span class="pill-title">Farmacia di turno</span>
            </button>

            <button class="section-pill section-pink" data-section="comunicazioni">
              <span class="pill-label">NUOVA</span>
              <span class="pill-title">Comunicazioni</span>
            </button>

            <button class="section-pill section-teal" data-section="procedure">
              <span class="pill-label">NUOVE</span>
              <span class="pill-title">Procedure</span>
            </button>

            <button class="section-pill section-yellow" data-section="logistica">
              <span class="pill-label">NUOVA</span>
              <span class="pill-title">Logistica</span>
            </button>

            <button class="section-pill section-cyan" data-section="magazziniera">
              <span class="pill-label">NUOVA</span>
              <span class="pill-title">Magazziniera</span>
            </button>

            <button class="section-pill section-orange" data-section="scadenze">
              <span class="pill-label">NUOVI</span>
              <span class="pill-title">Prodotti in scadenza</span>
            </button>

            <button class="section-pill section-green2" data-section="consumabili">
              <span class="pill-label">NUOVI</span>
              <span class="pill-title">Consumabili</span>
            </button>

            <button class="section-pill section-purple" data-section="archivio">
              <span class="pill-label">NUOVO</span>
              <span class="pill-title">Archivio file</span>
            </button>
          </div>
        </section>

        <!-- Q2 ‚Äì PROMOZIONI & GIORNATE -->
        <section class="card q2">
          <div class="card-title-row">
            <h2>Promozioni & giornate in farmacia</h2>
            <p class="card-subtitle">Cosa stiamo offrendo e cosa c'√® in programma.</p>
          </div>

          <div class="promo-grid">
            <div class="promo-column">
              <div class="promo-header">
                <span>Offerte in corso</span>
                <button class="btn-small" data-open-promo="offerta">+ Aggiungi</button>
              </div>
              <ul id="promo-offerte-list" class="promo-list"></ul>
            </div>

            <div class="promo-column">
              <div class="promo-header">
                <span>Giornate in farmacia</span>
                <button class="btn-small" data-open-promo="giornata">+ Aggiungi</button>
              </div>
              <ul id="promo-giornate-list" class="promo-list"></ul>
            </div>
          </div>
        </section>
                <!-- Q3 ‚Äì AREA CONTENUTI -->
        <section class="card q3">
          <div class="card-title-row">
            <h2>Area contenuti</h2>
            <p class="card-subtitle">
              Seleziona una funzione dalle card. Dopo 20 secondi senza click torni
              alla panoramica.
            </p>
          </div>

          <div id="content-area" class="content-area">
            <!-- Popolato da JS con la panoramica o i dettagli -->
          </div>
        </section>

        <!-- Q4 ‚Äì AGENDA SERVIZI -->
        <section class="card q4">
          <div class="card-title-row">
            <h2>Agenda servizi</h2>
            <p class="card-subtitle">Gestione appuntamenti, servizi ed esami.</p>
          </div>

          <div class="agenda-toolbar">
            <button id="agenda-new-btn" class="btn-primary">+ Nuovo appuntamento</button>
            <div class="agenda-month-nav">
              <button id="agenda-prev-month" class="icon-btn" aria-label="Mese precedente">‚Äπ</button>
              <span id="agenda-month-label"></span>
              <button id="agenda-next-month" class="icon-btn" aria-label="Mese successivo">‚Ä∫</button>
            </div>
          </div>

          <div class="agenda-calendar">
            <div class="agenda-weekdays">
              <span>LU</span><span>MA</span><span>ME</span><span>GI</span><span>VE</span><span>SA</span><span>DO</span>
            </div>
            <div id="agenda-grid" class="agenda-grid">
              <!-- Celle del calendario generate da JS -->
            </div>
          </div>
        </section>

      </main>
    </div> <!-- fine desktop-dashboard -->

    <!-- ======================
         MODALE PROMOZIONI / GIORNATE
         ====================== -->
    <div id="promo-modal" class="modal hidden">
      <div class="modal-backdrop"></div>
      <div class="modal-panel">
        <div class="modal-header">
          <h3 id="promo-modal-title">Nuova voce</h3>
          <button class="modal-close" data-close-modal="promo">√ó</button>
        </div>

        <form id="promo-form" class="modal-form">
          <input type="hidden" id="promo-type" />

          <label>
            Titolo
            <input type="text" id="promo-title" required placeholder="Es. Giornata ECO" />
          </label>

          <label>
            Dettagli
            <textarea id="promo-detail" rows="2" placeholder="Descrizione breve"></textarea>
          </label>

          <label>
            Data
            <input type="date" id="promo-date" required />
          </label>

          <button type="submit" class="btn-primary btn-full">Salva</button>
        </form>
      </div>
    </div>

    <!-- ======================
         MODALE AGENDA ‚Äì GIORNO
         ====================== -->
    <div id="agenda-modal" class="modal hidden">
      <div class="modal-backdrop"></div>
      <div class="modal-panel modal-panel-wide">
        <div class="modal-header">
          <h3 id="agenda-modal-title">Appuntamenti del giorno</h3>
          <button class="modal-close" data-close-modal="agenda">√ó</button>
        </div>

        <div id="agenda-modal-body" class="agenda-modal-body">
          <!-- Lista appuntamenti del giorno -->
        </div>
      </div>
    </div>

    <!-- ======================
         MODALE AGENDA ‚Äì NUOVO APPUNTAMENTO
         ====================== -->
    <div id="agenda-new-modal" class="modal hidden">
      <div class="modal-backdrop"></div>
      <div class="modal-panel">
        <div class="modal-header">
          <h3>Nuovo appuntamento</h3>
          <button class="modal-close" data-close-modal="agenda-new">√ó</button>
        </div>

        <form id="agenda-form" class="modal-form">
          <label>
            Data
            <input type="date" id="agenda-date" required />
          </label>

          <label>
            Orario
            <input type="time" id="agenda-time" required />
          </label>

          <label>
            Nome e cognome
            <input type="text" id="agenda-name" required placeholder="Es. Rossi Maria" />
          </label>

          <label>
            Servizio / motivo
            <input type="text" id="agenda-service" required placeholder="Es. ECG, HOLTER pressorio‚Ä¶" />
          </label>

          <button type="submit" class="btn-primary btn-full">Salva appuntamento</button>
        </form>
      </div>
    </div>

    <!-- PULSANTE WHATSAPP FLOTANTE -->
    <a href="https://wa.me/39XXXXXXXXXX" target="_blank" class="whatsapp-bubble" title="Apri WhatsApp farmacia">
      ‚òè
    </a>

  </div> <!-- app-shell -->

  <script src="script.js"></script>
</body>
</html>
