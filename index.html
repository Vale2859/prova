<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <title>Portale Farmacia Montesano â€“ Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- =========================
       WRAPPER LOGIN / APP
       ========================= -->
  <div id="authContainer" class="auth-wrapper">
    <div class="auth-card">
      <h1 class="auth-title">Portale Farmacia Montesano</h1>
      <p class="auth-subtitle">Accesso demo â€“ niente password complicate, solo per provare il portale.</p>

      <div class="auth-tabs">
        <button class="auth-tab active" data-tab="login">Login</button>
        <button class="auth-tab" data-tab="register">Registrati</button>
      </div>

      <!-- LOGIN -->
      <form id="loginForm" class="auth-form auth-form--active" autocomplete="off">
        <label class="auth-label">
          Username
          <input type="text" id="loginUsername" required />
        </label>
        <label class="auth-label">
          Password
          <input type="password" id="loginPassword" required />
        </label>

        <button type="submit" class="btn-primary btn-full auth-main-btn">
          Entra
        </button>

        <div class="auth-demo">
          <p>Oppure accesso rapido demo:</p>
          <div class="auth-demo-buttons">
            <button type="button" class="btn-chip" data-demo-role="farmacia">Farmacia</button>
            <button type="button" class="btn-chip" data-demo-role="titolare">Titolare</button>
            <button type="button" class="btn-chip" data-demo-role="dipendente">Dipendente</button>
          </div>
        </div>

        <p class="auth-hint">
          Utenti demo predefiniti (esempio):<br/>
          <strong>farmacia / 1234</strong> Â· <strong>titolare / 1234</strong>
        </p>

        <p id="loginError" class="auth-error hidden"></p>
      </form>

      <!-- REGISTER -->
      <form id="registerForm" class="auth-form" autocomplete="off">
        <div class="auth-row">
          <label class="auth-label">
            Nome e cognome
            <input type="text" id="regName" required />
          </label>
        </div>

        <div class="auth-row">
          <label class="auth-label">
            Username
            <input type="text" id="regUsername" required />
          </label>
          <label class="auth-label">
            Password
            <input type="password" id="regPassword" required />
          </label>
        </div>

        <div class="auth-row">
          <label class="auth-label">
            Ruolo
            <select id="regRole" required>
              <option value="">Selezionaâ€¦</option>
              <option value="cliente">Cliente</option>
              <option value="dipendente">Dipendente</option>
            </select>
          </label>
          <label class="auth-label">
            Cellulare (solo clienti)
            <input type="tel" id="regPhone" placeholder="Es. 333 1234567" />
          </label>
        </div>

        <label class="auth-label">
          Email (facoltativa)
          <input type="email" id="regEmail" placeholder="nome@email.it" />
        </label>

        <button type="submit" class="btn-primary btn-full auth-main-btn">
          Crea account
        </button>

        <p id="registerError" class="auth-error hidden"></p>
        <p id="registerOk" class="auth-ok hidden">âœ… Registrazione demo completata, ora puoi fare login.</p>
      </form>
    </div>
  </div>

  <!-- =========================
       APP INTERA
       ========================= -->
  <div id="app" class="app-shell hidden">
        <!-- HEADER DESKTOP -->
    <header class="app-header">
      <div class="app-header-left">
        <button id="hamburger" class="hamburger-btn" aria-label="Menu">
          <span></span>
        </button>
        <div>
          <h1>Portale Farmacia Montesano</h1>
          <span class="app-header__subtitle">Dashboard principale</span>
        </div>
      </div>

      <div class="app-header-right">
        <div class="quick-links">
          <button class="quick-link" data-q="mail" title="Apri email farmacia">âœ‰ï¸</button>
          <button class="quick-link" data-q="whatsapp" title="WhatsApp farmacia">ğŸ’¬</button>
          <button class="quick-link" data-q="medybox" title="Medybox">ğŸ©º</button>
          <button class="quick-link" data-q="pharmercure" title="Pharmercure">ğŸšš</button>
        </div>
        <div id="currentUserBadge" class="user-badge">Utente</div>
      </div>
    </header>

    <!-- SIDEBAR SEMPLICE -->
    <aside id="sidebar" class="sidebar">
      <button id="closeSidebar" class="sidebar-close">Ã—</button>
      <div class="sidebar-user">
        <div class="sidebar-user-role" id="sidebarUserRole">Ruolo</div>
        <div class="sidebar-user-name" id="sidebarUserName">Nome utente</div>
      </div>
      <nav class="sidebar-nav">
        <button class="sidebar-link" data-nav="farmacia">Dashboard Farmacia</button>
        <button class="sidebar-link" data-nav="titolare">Area Titolare</button>
        <button class="sidebar-link" data-nav="dipendente">Area Dipendenti</button>
        <button class="sidebar-link" data-nav="cliente">Area Clienti</button>
      </nav>
      <button id="logoutBtn" class="btn-secondary btn-full sidebar-logout">Logout</button>
    </aside>

    <!-- ======================
         VISTA MOBILE (CARD)
         ====================== -->
    <div class="mobile-dashboard">
      <header class="m-header">
        <div class="m-logo-wrap">
          <span class="m-logo-text">Farmacia Montesano</span>
        </div>
        <button class="m-hamburger" aria-label="Menu mobile">
          <span></span>
        </button>
      </header>

      <main class="m-main">
        <section class="m-card-grid">
          <!-- RIGA 1 -->
          <button class="m-card m-card-green" data-section="assenti">
            <div class="m-card-label">Nuovi</div>
            <div class="m-card-title">Assenti / Permessi</div>
            <div class="m-card-badge">2</div>
            <div class="m-card-icon">ğŸ“…</div>
          </button>

          <button class="m-card m-card-blue" data-section="turno">
            <div class="m-card-label">Oggi</div>
            <div class="m-card-title">Farmacia di turno</div>
            <div class="m-card-badge">1</div>
            <div class="m-card-icon">â°</div>
          </button>

          <!-- RIGA 2 -->
          <button class="m-card m-card-pink" data-section="comunicazioni">
            <div class="m-card-label">Nuove</div>
            <div class="m-card-title">Comunicazioni</div>
            <div class="m-card-badge">3</div>
            <div class="m-card-icon">ğŸ“¢</div>
          </button>

          <button class="m-card m-card-teal" data-section="procedure">
            <div class="m-card-label">Utili</div>
            <div class="m-card-title">Procedure</div>
            <div class="m-card-icon">ğŸ“š</div>
          </button>

          <!-- RIGA 3 -->
          <button class="m-card m-card-yellow" data-section="logistica">
            <div class="m-card-label">Info</div>
            <div class="m-card-title">Logistica</div>
            <div class="m-card-icon">ğŸ“¦</div>
          </button>

          <button class="m-card m-card-cyan" data-section="magazzino">
            <div class="m-card-label">Scorte</div>
            <div class="m-card-title">Magazzino</div>
            <div class="m-card-icon">ğŸ“‹</div>
          </button>

          <!-- RIGA 4 -->
          <button class="m-card m-card-orange" data-section="scadenze">
            <div class="m-card-label">Attenzione</div>
            <div class="m-card-title">Prodotti in scadenza</div>
            <div class="m-card-icon">â³</div>
          </button>

          <button class="m-card m-card-green2" data-section="consumabili">
            <div class="m-card-label">Check</div>
            <div class="m-card-title">Consumabili</div>
            <div class="m-card-icon">ğŸ§ª</div>
          </button>

          <!-- RIGA 5 -->
          <button class="m-card m-card-blue2" data-section="consegne">
            <div class="m-card-label">Oggi</div>
            <div class="m-card-title">Consegne / Ritiri</div>
            <div class="m-card-icon">ğŸšš</div>
          </button>

          <button class="m-card m-card-purple" data-section="cassa">
            <div class="m-card-label">Banco</div>
            <div class="m-card-title">Cambio cassa</div>
            <div class="m-card-icon">ğŸ’¶</div>
          </button>

          <!-- RIGA 6: ARCHIVIO -->
          <button class="m-card m-card-dark m-card-wide" data-section="archivio">
            <div class="m-card-title">Archivio file</div>
            <div class="m-card-icon">ğŸ—„ï¸</div>
          </button>
        </section>
      </main>
    </div>
        <!-- ======================
         VISTA DESKTOP â€“ FARMACIA
         ====================== -->
    <main id="farmaciaDashboard" class="dashboard">

      <!-- QUADRANTE 1 â€“ SEZIONI FARMACIA -->
      <section class="quad quad-1">
        <h2 class="quad-title">Sezioni farmacia</h2>
        <div class="section-cards-grid">
          <button class="section-card" data-section="assenti">ğŸ“… Assenti / Permessi</button>
          <button class="section-card" data-section="turno">â° Farmacia di turno</button>
          <button class="section-card" data-section="comunicazioni">ğŸ’¬ Comunicazioni interne</button>
          <button class="section-card" data-section="procedure">ğŸ“š Procedure</button>
          <button class="section-card" data-section="logistica">ğŸ“¦ Logistica</button>
          <button class="section-card" data-section="magazzino">ğŸ“‹ Magazzino</button>
          <button class="section-card" data-section="scadenze">â³ Prodotti in scadenza</button>
          <button class="section-card" data-section="consumabili">ğŸ§ª Consumabili</button>
          <button class="section-card" data-section="consegne">ğŸšš Consegne / Ritiri</button>
        </div>
      </section>

      <!-- QUADRANTE 2 â€“ PROMO & GIORNATE -->
      <section class="quad quad-2">
        <h2 class="quad-title">Promozioni & Giornate in farmacia</h2>

        <div class="quad-row">
          <div class="quad-column">
            <div class="quad-column-header">
              <span>Offerte in corso</span>
              <button id="btnAddOfferta" class="btn-small">+ Aggiungi</button>
            </div>
            <ul id="listaOfferte" class="simple-list"></ul>
            <button id="btnVediOfferte" class="btn-link-small">Vedi tutte le offerte</button>
          </div>

          <div class="quad-column">
            <div class="quad-column-header">
              <span>Giornate in farmacia</span>
              <button id="btnAddGiornata" class="btn-small">+ Aggiungi</button>
            </div>
            <ul id="listaGiornate" class="simple-list"></ul>
            <button id="btnVediGiornate" class="btn-link-small">Vedi tutte le giornate</button>
          </div>
        </div>
      </section>

      <!-- QUADRANTE 3 â€“ AREA CONTENUTI -->
      <section class="quad quad-3">
        <h2 class="quad-title">Area contenuti</h2>
        <div id="areaContenuti" class="area-contenuti">
          <!-- Panoramica rapida di default -->
          <div id="panoramicaRapida" class="panoramica-rapida">
            <h3>Panoramica rapida</h3>
            <div class="pan-row">
              <div class="pan-box">
                <span class="pan-label">Servizi di oggi</span>
                <span id="panServiziOggi" class="pan-value">ECG Â· Holter pressorio</span>
              </div>
              <div class="pan-box">
                <span class="pan-label">Assenze confermate</span>
                <span id="panAssenzeOggi" class="pan-value">2 assenti</span>
              </div>
            </div>
            <div class="pan-row">
              <div class="pan-box">
                <span class="pan-label">Prodotti in scadenza (&lt; 60gg)</span>
                <span id="panScadenze" class="pan-value">5 articoli da controllare</span>
              </div>
              <div class="pan-box">
                <span class="pan-label">Promozioni attive</span>
                <span id="panPromo" class="pan-value">3 promo in corso</span>
              </div>
            </div>
            <p class="pan-hint">
              Clicca una card in <strong>Sezioni farmacia</strong> per vedere i dettagli qui.
              Dopo 20 secondi senza tocchi tornerai a questa panoramica.
            </p>
          </div>
        </div>
      </section>

      <!-- QUADRANTE 4 â€“ AGENDA SERVIZI -->
      <section class="quad quad-4">
        <h2 class="quad-title">Agenda servizi</h2>
        <div class="agenda-header">
          <button id="agendaPrevMonth" class="btn-circle">â€¹</button>
          <span id="agendaMonthLabel" class="agenda-month-label">Mese anno</span>
          <button id="agendaNextMonth" class="btn-circle">â€º</button>
          <button id="agendaToday" class="btn-small">Oggi</button>
        </div>
        <div class="agenda-grid" id="agendaGrid"></div>
      </section>

    </main>

    <!-- PAGINE PER ALTRI RUOLI (SEMPLICI PLACEHOLDER) -->
    <main id="titolareDashboard" class="role-dashboard hidden">
      <h2>Area Titolare (demo)</h2>
      <p>Qui potrai in futuro avere report, statistiche, approvazione permessi, ecc.</p>
    </main>

    <main id="dipendenteDashboard" class="role-dashboard hidden">
      <h2>Area Dipendente (demo)</h2>
      <p>Qui ogni dipendente vedrÃ  i propri turni, permessi richiesti e comunicazioni.</p>
    </main>

    <main id="clienteDashboard" class="role-dashboard hidden">
      <h2>Area Cliente (demo)</h2>
      <p>Spazio dedicato ai clienti: prenotazioni servizi, promozioni personalizzate, ecc.</p>
    </main>

    <!-- MODAL GENERICO -->
    <div id="modalOverlay" class="modal-overlay hidden">
      <div class="modal">
        <div class="modal-header">
          <h3 id="modalTitle">Titolo</h3>
          <button id="modalClose" class="modal-close">Ã—</button>
        </div>
        <div id="modalBody" class="modal-body"></div>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
