<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0"
  />
  <title>Farmacia Montesano ‚Äì Portale Professionale</title>

  <!-- Meta descrizione per motori di ricerca -->
  <meta
    name="description"
    content="Portale Professionale Farmacia Montesano: accesso interno per Titolare, Farmacia, Dipendenti e Clienti. Demo completa basata su localStorage (nessun server richiesto)."
  />

  <!-- Collega il foglio di stile principale (stesso livello del file index.html) -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!--
    APP WRAPPER PRINCIPALE
    Tutto il portale vive dentro questo contenitore.
  -->
  <div id="app">

    <!--
      TOPBAR / NAVBAR SUPERIORE
      - Logo + titolo
      - Area utente loggato (nome e ruolo)
      - Pulsante Logout

      La topbar √® nascosta all'inizio (classe .hidden) e si mostra
      solo dopo che l'utente effettua il login con successo.
    -->
    <header id="topbar" class="topbar hidden">
      <div class="topbar-left">
        <div class="topbar-logo">
          <!--
            QUI PUOI METTERE IL TUO LOGO VERO
            Esempio:
            <img src="img/logo-farmacia-montesano.png" alt="Farmacia Montesano" />

            Per ora utilizziamo una semplice icona + iniziali.
          -->
          <span class="topbar-logo-icon">üíä</span>
        </div>

        <div class="topbar-titles">
          <div class="topbar-title">
            Farmacia Montesano ‚Äì Portale Professionale
          </div>
          <div class="topbar-subtitle">
            Area interna per Titolare, Farmacia, Dipendenti e Clienti
          </div>
        </div>
      </div>

      <div class="topbar-right">
        <!-- Informazioni utente loggato -->
        <div class="topbar-user">
          <span id="topbarUserName" class="topbar-user-name">Ospite</span>
          <span
            id="topbarUserRole"
            class="topbar-user-role-pill topbar-pill-small"
          >
            Nessun ruolo / guest
          </span>
        </div>

        <!-- Pulsante Logout -->
        <button id="btnLogout" class="btn btn-logout" type="button">
          Esci
        </button>
      </div>
    </header>

    <!--
      ================
      SCHERMATA INIZIALE
      ================
      Prima schermata che l'utente vede quando apre il sito.
      Layout molto semplice: card centrale con titolo, testo introduttivo
      e due pulsanti:
        - "Accedi"  -> apre la sezione di login
        - "Registrati" -> apre la sezione di registrazione

      Questa schermata viene nascosta non appena l'utente passa
      al login/registrazione o √® gi√† loggato.
    -->
    <main id="startScreen" class="start-screen">
      <section class="start-card">
        <h1 class="start-title">Portale Professionale</h1>
        <h2 class="start-subtitle">Farmacia Montesano</h2>

        <p class="start-intro">
          Seleziona una delle opzioni per accedere o creare un nuovo account.
        </p>

        <div class="start-actions">
          <button
            id="btnGoToLogin"
            class="btn btn-primary"
            type="button"
          >
            Accedi
          </button>

          <button
            id="btnGoToRegister"
            class="btn btn-secondary"
            type="button"
          >
            Registrati
          </button>
        </div>

        <p class="start-note">
          Accesso disponibile per
          <strong>Titolare</strong>,
          <strong>Farmacia</strong>,
          <strong>Dipendenti</strong> e
          <strong>Clienti</strong>.<br />
          Tutto √® salvato in locale tramite <code>localStorage</code>
          (demo senza server).
        </p>
      </section>
    </main>

    <!--
      =====================
      SEZIONE AUTENTICAZIONE
      =====================
      Contiene due "tab":
        - Login
        - Registrazione

      Lo switch fra login e registrazione viene gestito da JavaScript.
      All'inizio questa sezione √® nascosta (classe .hidden), viene
      mostrata quando l'utente clicca "Accedi" o "Registrati".
    -->
    <main id="authScreen" class="auth-screen hidden">
      <section class="auth-card">
        <!-- Pulsante "indietro" per tornare alla schermata iniziale -->
        <button id="btnBackToStart" class="auth-back-btn" type="button">
          ‚Üê Torna alla schermata iniziale
        </button>

        <!-- Header della card di autenticazione -->
        <div class="auth-header">
          <h1 class="auth-title">Accesso Portale</h1>
          <p class="auth-subtitle">
            Effettua il login oppure crea un nuovo account (Dipendente o Cliente).
          </p>
        </div>

        <!-- Tabs Login / Registrazione -->
        <div class="auth-tabs">
          <button
            id="tabLogin"
            class="auth-tab auth-tab-active"
            type="button"
            data-tab="login"
          >
            Accedi
          </button>
          <button
            id="tabRegister"
            class="auth-tab"
            type="button"
            data-tab="register"
          >
            Registrati
          </button>
        </div>

        <!-- CONTENITORE GENERALE PER I CONTENUTI DEI TAB -->
        <div class="auth-body">
          <!--
            FORM DI LOGIN
            - Email/Username
            - Password
            - Messaggi di errore
          -->
          <form id="loginForm" class="auth-form auth-form-visible">
            <div class="form-row">
              <label for="loginIdentifier">Email o username</label>
              <input
                id="loginIdentifier"
                name="loginIdentifier"
                type="text"
                autocomplete="username"
                placeholder="Inserisci email o username"
                required
              />
            </div>

            <div class="form-row">
              <label for="loginPassword">Password</label>
              <input
                id="loginPassword"
                name="loginPassword"
                type="password"
                autocomplete="current-password"
                placeholder="Inserisci la password"
                required
              />
            </div>

            <!-- Messaggio di errore login -->
            <p id="loginError" class="form-error hidden">
              Errore di autenticazione. Controlla le credenziali e riprova.
            </p>

            <div class="form-row form-row-actions">
              <button class="btn btn-primary btn-wide" type="submit">
                Entra nel portale
              </button>
            </div>

            <p class="form-hint">
              Utenti demo predefiniti:
              <br />
              <code>Titolare ‚Üí username: titolare / password: titolare123</code><br />
              <code>Farmacia ‚Üí username: farmacia / password: farmacia123</code>
            </p>
          </form>

          <!--
            FORM DI REGISTRAZIONE
            - Nome
            - Cognome
            - Email/Username
            - Password
            - Selettore ruolo (Dipendente o Cliente)
          -->
          <form id="registerForm" class="auth-form hidden">
            <div class="form-row two-cols">
              <div class="form-col">
                <label for="regFirstName">Nome</label>
                <input
                  id="regFirstName"
                  name="regFirstName"
                  type="text"
                  placeholder="Inserisci il nome"
                  required
                />
              </div>
              <div class="form-col">
                <label for="regLastName">Cognome</label>
                <input
                  id="regLastName"
                  name="regLastName"
                  type="text"
                  placeholder="Inserisci il cognome"
                  required
                />
              </div>
            </div>

            <div class="form-row">
              <label for="regIdentifier">Email o username</label>
              <input
                id="regIdentifier"
                name="regIdentifier"
                type="text"
                placeholder="Scegli email o username"
                required
              />
            </div>

            <div class="form-row">
              <label for="regPassword">Password</label>
              <input
                id="regPassword"
                name="regPassword"
                type="password"
                placeholder="Scegli una password"
                required
              />
            </div>

            <div class="form-row">
              <label for="regRole">Tipo di account</label>
              <select id="regRole" name="regRole" required>
                <option value="">Seleziona‚Ä¶</option>
                <option value="dipendente">Dipendente</option>
                <option value="cliente">Cliente</option>
              </select>
            </div>

            <!-- Messaggio di errore registrazione -->
            <p id="registerError" class="form-error hidden">
              Errore durante la registrazione. Controlla i campi e riprova.
            </p>

            <!-- Messaggio di successo registrazione -->
            <p id="registerSuccess" class="form-success hidden">
              Registrazione completata! Ora puoi effettuare il login.
            </p>

            <div class="form-row form-row-actions">
              <button class="btn btn-primary btn-wide" type="submit">
                Crea account
              </button>
            </div>

            <p class="form-hint">
              Solo <strong>Dipendenti</strong> e <strong>Clienti</strong>
              possono registrarsi da soli.<br />
              Gli utenti <strong>Titolare</strong> e <strong>Farmacia</strong>
              sono creati dal sistema e gestiti dal Titolare.
            </p>
          </form>
        </div>
      </section>
    </main>
        <!--
      =========================
      AREA PRINCIPALE APPLICAZIONE
      =========================
      Qui vivono tutte le dashboard per i vari ruoli:
        - Dashboard Titolare
        - Dashboard Farmacia / Dipendente
        - Dashboard Cliente

      Solo una di queste sezioni sar√† visibile alla volta,
      in base al ruolo dell'utente loggato.
    -->
    <main id="mainApp" class="main-app hidden">

      <!--
        ======================
        DASHBOARD TITOLARE
        ======================
        Vista completa con tutte le card operative.
        Viene mostrata solo se l'utente loggato ha ruolo "titolare".
      -->
      <section id="dashboardTitolare" class="dashboard dashboard-titolare hidden">
        <header class="dashboard-header">
          <div>
            <h1 class="dashboard-title">Dashboard Titolare</h1>
            <p class="dashboard-subtitle">
              Panoramica completa su assenze, turni, comunicazioni, scadenze e gestione interna.
            </p>
          </div>

          <!-- Link rapidi (es. Impostazioni) -->
          <nav class="dashboard-links">
            <button
              id="btnOpenTitolareSettings"
              class="link-button"
              type="button"
            >
              ‚öôÔ∏è Impostazioni Titolare
            </button>
            <button
              id="btnOpenTitolareControls"
              class="link-button"
              type="button"
            >
              üìä Controlli
            </button>
          </nav>
        </header>

        <!--
          GRIGLIA DELLE CARDS (3 x 3 su desktop)
          Ogni card apre una sezione di dettaglio specifica.
        -->
        <section class="cards-grid">

          <!-- CARD 1 ‚Äì ASSENTI OGGI -->
          <article
            class="card card-assenti"
            data-section-target="sectionAssenti"
          >
            <div class="card-icon">üßë‚Äç‚öïÔ∏è</div>
            <h2 class="card-title">Assenti oggi</h2>
            <p class="card-text">
              Gestisci assenze del personale: ferie, permessi, malattia.
            </p>
            <button class="card-btn" type="button">
              Apri gestione assenze
            </button>
          </article>

          <!-- CARD 2 ‚Äì FARMACIA DI TURNO / APPOGGIO -->
          <article
            class="card card-turno"
            data-section-target="sectionTurni"
          >
            <div class="card-icon">üåô</div>
            <h2 class="card-title">Farmacia di turno / appoggio</h2>
            <p class="card-text">
              Imposta la farmacia di turno e quella di appoggio, visibili a tutti.
            </p>
            <button class="card-btn" type="button">
              Gestisci turni di farmacia
            </button>
          </article>

          <!-- CARD 3 ‚Äì COMUNICAZIONI -->
          <article
            class="card card-comunicazioni"
            data-section-target="sectionComunicazioni"
          >
            <div class="card-icon">üì£</div>
            <h2 class="card-title">Comunicazioni interne</h2>
            <p class="card-text">
              Bacheca messaggi per tutto lo staff: avvisi, note, promemoria.
            </p>
            <button class="card-btn" type="button">
              Apri bacheca comunicazioni
            </button>
          </article>

          <!-- CARD 4 ‚Äì PROCEDURE -->
          <article
            class="card card-procedure"
            data-section-target="sectionProcedure"
          >
            <div class="card-icon">üìã</div>
            <h2 class="card-title">Procedure</h2>
            <p class="card-text">
              Elenco procedure operative (cassa, resi, servizi, magazzino).
            </p>
            <button class="card-btn" type="button">
              Gestisci procedure
            </button>
          </article>

          <!-- CARD 5 ‚Äì ARRIVI -->
          <article
            class="card card-arrivi"
            data-section-target="sectionArrivi"
          >
            <div class="card-icon">üì¶</div>
            <h2 class="card-title">Arrivi / consegne</h2>
            <p class="card-text">
              Registra arrivi da corrieri e fornitori, con storico completo.
            </p>
            <button class="card-btn" type="button">
              Segnala o consulta arrivi
            </button>
          </article>

          <!-- CARD 6 ‚Äì SCADENZE -->
          <article
            class="card card-scadenze"
            data-section-target="sectionScadenze"
          >
            <div class="card-icon">‚è∞</div>
            <h2 class="card-title">Scadenze prodotti</h2>
            <p class="card-text">
              Controlla scadenze e priorit√†. Evidenza automatica entro 45 giorni.
            </p>
            <button class="card-btn" type="button">
              Gestisci scadenze
            </button>
          </article>

          <!-- CARD 7 ‚Äì SCORTE -->
          <article
            class="card card-scorte"
            data-section-target="sectionScorte"
          >
            <div class="card-icon">üì¶</div>
            <h2 class="card-title">Scorte interne</h2>
            <p class="card-text">
              Gestione scorte di servizio: rotoli cassa, bicchieri, toner, ecc.
            </p>
            <button class="card-btn" type="button">
              Apri gestione scorte
            </button>
          </article>

          <!-- CARD 8 ‚Äì CAMBIO CASSA -->
          <article
            class="card card-cambiocassa"
            data-section-target="sectionCambioCassa"
          >
            <div class="card-icon">üí∂</div>
            <h2 class="card-title">Cambio cassa</h2>
            <p class="card-text">
              Registra operazioni di cambio cassa e tieni uno storico ordinato.
            </p>
            <button class="card-btn" type="button">
              Gestisci cambi cassa
            </button>
          </article>

          <!-- CARD 9 ‚Äì ARCHIVIO FILE -->
          <article
            class="card card-archivio"
            data-section-target="sectionArchivio"
          >
            <div class="card-icon">üóÇÔ∏è</div>
            <h2 class="card-title">Archivio file</h2>
            <p class="card-text">
              Elenco file e documenti interni con categorie e link esterni.
            </p>
            <button class="card-btn" type="button">
              Apri archivio documenti
            </button>
          </article>
        </section>
      </section>
            <!--
        ======================
        DASHBOARD FARMACIA / DIPENDENTE
        ======================
        Vista operativa per chi lavora in farmacia.
        Ha le stesse card del Titolare ma con permessi diversi (gestiti in JS).
      -->
      <section id="dashboardFarmacia" class="dashboard dashboard-farmacia hidden">
        <header class="dashboard-header">
          <div>
            <h1 class="dashboard-title">Dashboard Farmacia</h1>
            <p class="dashboard-subtitle">
              Area operativa per collaboratori e farmacisti: turni, comunicazioni, scadenze e gestione interna.
            </p>
          </div>

          <nav class="dashboard-links">
            <button
              id="btnOpenFarmaciaProcedures"
              class="link-button"
              type="button"
            >
              üìã Procedure
            </button>
            <button
              id="btnOpenFarmaciaArchivio"
              class="link-button"
              type="button"
            >
              üóÇÔ∏è Archivio
            </button>
          </nav>
        </header>

        <!-- Griglia cards (stessa struttura del titolare) -->
        <section class="cards-grid">

          <!-- CARD 1 ‚Äì ASSENTI OGGI (sola lettura) -->
          <article
            class="card card-assenti"
            data-section-target="sectionAssenti"
          >
            <div class="card-icon">üßë‚Äç‚öïÔ∏è</div>
            <h2 class="card-title">Assenti oggi</h2>
            <p class="card-text">
              Elenco del personale assente. Dati impostati dal titolare.
            </p>
            <button class="card-btn" type="button">
              Vedi elenco assenti
            </button>
          </article>

          <!-- CARD 2 ‚Äì FARMACIA DI TURNO / APPOGGIO (sola lettura) -->
          <article
            class="card card-turno"
            data-section-target="sectionTurni"
          >
            <div class="card-icon">üåô</div>
            <h2 class="card-title">Farmacia di turno / appoggio</h2>
            <p class="card-text">
              Visualizza la farmacia di turno e quella di appoggio impostate dal titolare.
            </p>
            <button class="card-btn" type="button">
              Vedi dettagli turni
            </button>
          </article>

          <!-- CARD 3 ‚Äì COMUNICAZIONI -->
          <article
            class="card card-comunicazioni"
            data-section-target="sectionComunicazioni"
          >
            <div class="card-icon">üì£</div>
            <h2 class="card-title">Comunicazioni interne</h2>
            <p class="card-text">
              Leggi gli avvisi del titolare e, se abilitato, aggiungi un tuo messaggio.
            </p>
            <button class="card-btn" type="button">
              Apri bacheca
            </button>
          </article>

          <!-- CARD 4 ‚Äì PROCEDURE (sola lettura) -->
          <article
            class="card card-procedure"
            data-section-target="sectionProcedure"
          >
            <div class="card-icon">üìã</div>
            <h2 class="card-title">Procedure operative</h2>
            <p class="card-text">
              Consulta le procedure aggiornate (cassa, resi, servizi, magazzino).
            </p>
            <button class="card-btn" type="button">
              Vai alle procedure
            </button>
          </article>

          <!-- CARD 5 ‚Äì ARRIVI (pu√≤ segnalare) -->
          <article
            class="card card-arrivi"
            data-section-target="sectionArrivi"
          >
            <div class="card-icon">üì¶</div>
            <h2 class="card-title">Arrivi / consegne</h2>
            <p class="card-text">
              Segnala un nuovo arrivo o consulta lo storico delle consegne.
            </p>
            <button class="card-btn" type="button">
              Segnala / consulta arrivi
            </button>
          </article>

          <!-- CARD 6 ‚Äì SCADENZE (lettura + aggiungi) -->
          <article
            class="card card-scadenze"
            data-section-target="sectionScadenze"
          >
            <div class="card-icon">‚è∞</div>
            <h2 class="card-title">Scadenze prodotti</h2>
            <p class="card-text">
              Vedi le scadenze impostate e aggiungi nuovi prodotti da controllare.
            </p>
            <button class="card-btn" type="button">
              Consulta scadenze
            </button>
          </article>

          <!-- CARD 7 ‚Äì SCORTE (pu√≤ segnalare scorta bassa) -->
          <article
            class="card card-scorte"
            data-section-target="sectionScorte"
          >
            <div class="card-icon">üì¶</div>
            <h2 class="card-title">Scorte interne</h2>
            <p class="card-text">
              Segnala prodotti di servizio in esaurimento (rotoli, bicchieri, toner‚Ä¶).
            </p>
            <button class="card-btn" type="button">
              Segnala scorta bassa
            </button>
          </article>

          <!-- CARD 8 ‚Äì CAMBIO CASSA (pu√≤ segnalare) -->
          <article
            class="card card-cambiocassa"
            data-section-target="sectionCambioCassa"
          >
            <div class="card-icon">üí∂</div>
            <h2 class="card-title">Cambio cassa</h2>
            <p class="card-text">
              Registra un cambio cassa per la giornata o consulta lo storico.
            </p>
            <button class="card-btn" type="button">
              Segnala cambio cassa
            </button>
          </article>

          <!-- CARD 9 ‚Äì ARCHIVIO FILE (accesso completo) -->
          <article
            class="card card-archivio"
            data-section-target="sectionArchivio"
          >
            <div class="card-icon">üóÇÔ∏è</div>
            <h2 class="card-title">Archivio file</h2>
            <p class="card-text">
              Consulta documenti interni, allegati e link utili per la farmacia.
            </p>
            <button class="card-btn" type="button">
              Apri archivio
            </button>
          </article>
        </section>
      </section>

      <!--
        ======================
        DASHBOARD CLIENTE
        ======================
        Vista dedicata ai clienti registrati.
        Mostra eventi, promozioni e informazioni sui turni della farmacia.
      -->
      <section id="dashboardCliente" class="dashboard dashboard-cliente hidden">
        <header class="dashboard-header">
          <div>
            <h1 class="dashboard-title">Area Cliente</h1>
            <p class="dashboard-subtitle">
              Eventi, promozioni e informazioni sui turni della Farmacia Montesano.
            </p>
          </div>
        </header>

        <section class="cards-grid cards-grid-cliente">

          <!-- CARD EVENTI -->
          <article
            class="card card-eventi"
            data-section-target="sectionEventiCliente"
          >
            <div class="card-icon">üìÖ</div>
            <h2 class="card-title">Eventi in farmacia</h2>
            <p class="card-text">
              Giornate della salute, screening gratuiti, consulenze speciali e altri eventi.
            </p>
            <button class="card-btn" type="button">
              Vedi tutti gli eventi
            </button>
          </article>

          <!-- CARD PROMOZIONI -->
          <article
            class="card card-promozioni"
            data-section-target="sectionPromoCliente"
          >
            <div class="card-icon">üíö</div>
            <h2 class="card-title">Promozioni attive</h2>
            <p class="card-text">
              Offerte speciali e promozioni dedicate ai clienti registrati.
            </p>
            <button class="card-btn" type="button">
              Sfoglia le promozioni
            </button>
          </article>

          <!-- CARD TURNI FARMACIA -->
          <article
            class="card card-turno"
            data-section-target="sectionTurni"
          >
            <div class="card-icon">üåô</div>
            <h2 class="card-title">Farmacia di turno</h2>
            <p class="card-text">
              Visualizza rapidamente la farmacia di turno e quella di appoggio, con indirizzo e telefono.
            </p>
            <button class="card-btn" type="button">
              Vedi farmacia di turno
            </button>
          </article>

        </section>
      </section>
            <!--
        =====================================================
        SEZIONI DI DETTAGLIO COMUNI AI RUOLI
        (verranno mostrate/nascolte via JavaScript in base al ruolo)
        =====================================================
      -->

      <!--
        SEZIONE ASSENTI
        - Usata dal Titolare per inserire/gestire
        - Usata da Farmacia/Dipendenti in sola lettura
      -->
      <section id="sectionAssenti" class="page-section hidden">
        <header class="page-header">
          <div>
            <h2 class="page-title">Assenti oggi / archivio assenze</h2>
            <p class="page-subtitle">
              Elenco del personale assente con possibilit√† di aggiunta da parte del titolare.
            </p>
          </div>
          <span class="role-label" data-visible-roles="titolare">
            Solo titolare pu√≤ modificare
          </span>
        </header>

        <div class="page-layout">
          <!-- Form aggiunta assenza (solo titolare) -->
          <section
            class="panel panel-form"
            data-visible-roles="titolare,farmacia"
          >
            <h3 class="panel-title">Aggiungi assenza</h3>
            <form id="formAssenza" class="form-grid">
              <div class="form-row">
                <label for="assenzaNome">Nome e cognome</label>
                <input
                  type="text"
                  id="assenzaNome"
                  name="nome"
                  placeholder="Es. Patrizia Bianchi"
                  autocomplete="off"
                />
              </div>

              <div class="form-row">
                <label for="assenzaData">Data</label>
                <input
                  type="date"
                  id="assenzaData"
                  name="data"
                />
              </div>

              <div class="form-row">
                <label for="assenzaMotivo">Motivo</label>
                <select id="assenzaMotivo" name="motivo">
                  <option value="">Seleziona...</option>
                  <option value="ferie">Ferie</option>
                  <option value="permesso">Permesso</option>
                  <option value="malattia">Malattia</option>
                  <option value="altro">Altro</option>
                </select>
              </div>

              <div class="form-row form-row-full">
                <label for="assenzaNote">Note (facoltative)</label>
                <textarea
                  id="assenzaNote"
                  name="note"
                  rows="2"
                  placeholder="Es. ferie programmate, permesso per visita, ecc."
                ></textarea>
              </div>

              <div class="form-actions">
                <button type="submit" class="btn-primary">
                  Salva assenza
                </button>
                <p id="assenzaFeedback" class="form-feedback"></p>
              </div>
            </form>
          </section>

          <!-- Tabella assenti -->
          <section class="panel panel-table">
            <div class="panel-header-inline">
              <h3 class="panel-title">Elenco assenze registrate</h3>
              <div class="panel-filters">
                <label class="filter-label" for="filtroAssenzeData">
                  Filtra per data:
                </label>
                <input
                  type="date"
                  id="filtroAssenzeData"
                  class="filter-input"
                />
                <button
                  type="button"
                  id="btnResetFiltroAssenze"
                  class="btn-ghost small"
                >
                  Pulisci filtro
                </button>
              </div>
            </div>

            <div class="table-wrapper">
              <table class="data-table">
                <thead>
                  <tr>
                    <th>Nome</th>
                    <th>Data</th>
                    <th>Motivo</th>
                    <th>Note</th>
                    <th data-visible-roles="titolare" class="th-azioni">
                      Azioni
                    </th>
                  </tr>
                </thead>
                <tbody id="assenzeTableBody">
                  <!-- Compilato da JavaScript -->
                </tbody>
              </table>
            </div>
          </section>
        </div>
      </section>

      <!--
        SEZIONE TURNI FARMACIA DI TURNO / APPOGGIO
        - Titolare pu√≤ modificare
        - Tutti gli altri ruoli visualizzano in sola lettura
      -->
      <section id="sectionTurni" class="page-section hidden">
        <header class="page-header">
          <div>
            <h2 class="page-title">Farmacia di turno e di appoggio</h2>
            <p class="page-subtitle">
              Imposta o consulta la farmacia di turno e quella di appoggio con indirizzo e telefono.
            </p>
          </div>
          <span class="role-label" data-visible-roles="titolare">
            Solo il titolare pu√≤ modificare questi dati
          </span>
        </header>

        <div class="page-layout">
          <!-- Box riepilogo visibile a tutti -->
          <section class="panel panel-summary">
            <h3 class="panel-title">Riepilogo turno attuale</h3>
            <div class="summary-grid" id="turniSummary">
              <!-- compilato via JS con i dati da localStorage -->
              <div class="summary-box">
                <h4>Farmacia di turno</h4>
                <p class="summary-main" id="turnoFarmaciaNome">
                  Farmacia Montesano
                </p>
                <p class="summary-sub" id="turnoFarmaciaIndirizzo">
                  Via Esempio 1, Matera
                </p>
                <p class="summary-sub" id="turnoFarmaciaTelefono">
                  Tel. 000 000000
                </p>
              </div>

              <div class="summary-box">
                <h4>Farmacia di appoggio</h4>
                <p class="summary-main" id="appoggioFarmaciaNome">
                  Farmacia di Appoggio
                </p>
                <p class="summary-sub" id="appoggioFarmaciaIndirizzo">
                  Via Appoggio 5, Matera
                </p>
                <p class="summary-sub" id="appoggioFarmaciaTelefono">
                  Tel. 000 000001
                </p>
              </div>
            </div>
          </section>

          <!-- Form modifica (solo titolare) -->
          <section
            class="panel panel-form"
            data-visible-roles="titolare"
          >
            <h3 class="panel-title">Modifica dati turno / appoggio</h3>

            <form id="formTurni" class="form-grid">
              <fieldset class="fieldset">
                <legend>Farmacia di turno</legend>

                <div class="form-row">
                  <label for="turnoNome">Nome farmacia</label>
                  <input
                    type="text"
                    id="turnoNome"
                    name="turnoNome"
                    placeholder="Es. Farmacia Montesano"
                    autocomplete="off"
                  />
                </div>

                <div class="form-row">
                  <label for="turnoIndirizzo">Indirizzo</label>
                  <input
                    type="text"
                    id="turnoIndirizzo"
                    name="turnoIndirizzo"
                    placeholder="Via, numero civico, citt√†"
                    autocomplete="off"
                  />
                </div>

                <div class="form-row">
                  <label for="turnoTelefono">Telefono</label>
                  <input
                    type="tel"
                    id="turnoTelefono"
                    name="turnoTelefono"
                    placeholder="Es. 0835 000000"
                    autocomplete="off"
                  />
                </div>
              </fieldset>

              <fieldset class="fieldset">
                <legend>Farmacia di appoggio</legend>

                <div class="form-row">
                  <label for="appoggioNome">Nome farmacia</label>
                  <input
                    type="text"
                    id="appoggioNome"
                    name="appoggioNome"
                    placeholder="Es. Farmacia Centrale"
                    autocomplete="off"
                  />
                </div>

                <div class="form-row">
                  <label for="appoggioIndirizzo">Indirizzo</label>
                  <input
                    type="text"
                    id="appoggioIndirizzo"
                    name="appoggioIndirizzo"
                    placeholder="Via, numero civico, citt√†"
                    autocomplete="off"
                  />
                </div>

                <div class="form-row">
                  <label for="appoggioTelefono">Telefono</label>
                  <input
                    type="tel"
                    id="appoggioTelefono"
                    name="appoggioTelefono"
                    placeholder="Es. 0835 000001"
                    autocomplete="off"
                  />
                </div>
              </fieldset>

              <div class="form-actions">
                <button type="submit" class="btn-primary">
                  Salva dati turno
                </button>
                <p id="turniFeedback" class="form-feedback"></p>
              </div>
            </form>
          </section>
        </div>
      </section>

      <!--
        SEZIONE COMUNICAZIONI INTERNE
        - Titolare: pu√≤ aggiungere/modificare
        - Farmacia/Dipendenti: possono leggere, opzionalmente aggiungere (gestito in JS)
        - Cliente: pu√≤ solo leggere alcune comunicazioni se abilitate
      -->
      <section id="sectionComunicazioni" class="page-section hidden">
        <header class="page-header">
          <div>
            <h2 class="page-title">Comunicazioni interne</h2>
            <p class="page-subtitle">
              Bacheca di messaggi interni, avvisi, note di servizio e comunicazioni del titolare.
            </p>
          </div>
        </header>

        <div class="page-layout page-layout-stacked">
          <!-- Form nuova comunicazione (titolare + opzionalmente farmacia/dipendente) -->
          <section
            class="panel panel-form"
            data-visible-roles="titolare,farmacia,dipendente"
          >
            <h3 class="panel-title">Nuova comunicazione</h3>
            <form id="formComunicazione" class="form-grid">
              <div class="form-row">
                <label for="comTitolo">Titolo</label>
                <input
                  type="text"
                  id="comTitolo"
                  name="titolo"
                  placeholder="Es. Nuova procedura chiusura cassa"
                  autocomplete="off"
                />
              </div>

              <div class="form-row">
                <label for="comCategoria">Categoria</label>
                <select id="comCategoria" name="categoria">
                  <option value="informativa">Informativa</option>
                  <option value="importante">Importante</option>
                  <option value="urgente">Urgente</option>
                </select>
              </div>

              <div class="form-row form-row-full">
                <label for="comTesto">Testo comunicazione</label>
                <textarea
                  id="comTesto"
                  name="testo"
                  rows="3"
                  placeholder="Scrivi qui il testo della comunicazione..."
                ></textarea>
              </div>

              <div class="form-actions">
                <button type="submit" class="btn-primary">
                  Pubblica comunicazione
                </button>
                <p id="comunicazioniFeedback" class="form-feedback"></p>
              </div>
            </form>
          </section>

          <!-- Lista comunicazioni -->
          <section class="panel panel-table">
            <div class="panel-header-inline">
              <h3 class="panel-title">Bacheca comunicazioni</h3>
              <div class="panel-filters">
                <label class="filter-label" for="filtroComCategoria">
                  Filtra:
                </label>
                <select id="filtroComCategoria" class="filter-input">
                  <option value="tutte">Tutte</option>
                  <option value="informativa">Informative</option>
                  <option value="importante">Importanti</option>
                  <option value="urgente">Urgenti</option>
                </select>
              </div>
            </div>

            <div id="comunicazioniList" class="cards-list-vertical">
              <!-- Riempita via JavaScript con card comunicazioni -->
            </div>
          </section>
        </div>
      </section>

      <!--
        SEZIONE PROCEDURE OPERATIVE
        - Titolare: pu√≤ aggiungere/modificare
        - Farmacia/Dipendenti: possono leggere
        - Cliente: non vede
      -->
      <section id="sectionProcedure" class="page-section hidden">
        <header class="page-header">
          <div>
            <h2 class="page-title">Procedure operative</h2>
            <p class="page-subtitle">
              Manuale interno per cassa, magazzino, servizi e logistica della Farmacia Montesano.
            </p>
          </div>
        </header>

        <div class="page-layout">
          <!-- Form nuova procedura (solo titolare) -->
          <section
            class="panel panel-form"
            data-visible-roles="titolare"
          >
            <h3 class="panel-title">Aggiungi / modifica procedura</h3>
            <form id="formProcedura" class="form-grid">
              <div class="form-row">
                <label for="procTitolo">Titolo procedura</label>
                <input
                  type="text"
                  id="procTitolo"
                  name="titolo"
                  placeholder="Es. Chiusura cassa serale"
                  autocomplete="off"
                />
              </div>

              <div class="form-row">
                <label for="procCategoria">Categoria</label>
                <select id="procCategoria" name="categoria">
                  <option value="cassa">Cassa / Banco</option>
                  <option value="magazzino">Magazzino</option>
                  <option value="servizi">Servizi</option>
                  <option value="logistica">Logistica</option>
                </select>
              </div>

              <div class="form-row form-row-full">
                <label for="procTesto">Descrizione dettagliata</label>
                <textarea
                  id="procTesto"
                  name="testo"
                  rows="4"
                  placeholder="Scrivi la procedura punto per punto..."
                ></textarea>
              </div>

              <div class="form-actions">
                <button type="submit" class="btn-primary">
                  Salva procedura
                </button>
                <p id="procedureFeedback" class="form-feedback"></p>
              </div>
            </form>
          </section>

          <!-- Elenco procedure -->
          <section class="panel panel-table">
            <div class="panel-header-inline">
              <h3 class="panel-title">Elenco procedure</h3>
              <div class="panel-filters">
                <label class="filter-label" for="filtroProcCategoria">
                  Categoria:
                </label>
                <select id="filtroProcCategoria" class="filter-input">
                  <option value="tutte">Tutte</option>
                  <option value="cassa">Cassa / Banco</option>
                  <option value="magazzino">Magazzino</option>
                  <option value="servizi">Servizi</option>
                  <option value="logistica">Logistica</option>
                </select>
              </div>
            </div>

            <div id="procedureList" class="cards-list-vertical">
              <!-- card procedure generate in JS -->
            </div>

            <article id="procedureDettaglio" class="panel panel-detail hidden">
              <!-- quando clicchi una procedura, qui appare il dettaglio -->
            </article>
          </section>
        </div>
      </section>

      <!--
        SEZIONE ARRIVI / CONSEGNE
        - Titolare + Farmacia/Dipendenti possono inserire
        - Cliente non vede
      -->
      <section id="sectionArrivi" class="page-section hidden">
        <header class="page-header">
          <div>
            <h2 class="page-title">Arrivi e consegne</h2>
            <p class="page-subtitle">
              Registra gli arrivi di corrieri, espositori, fornitori e consulta lo storico.
            </p>
          </div>
        </header>

        <div class="page-layout">
          <!-- Form segnalazione arrivo -->
          <section
            class="panel panel-form"
            data-visible-roles="titolare,farmacia,dipendente"
          >
            <h3 class="panel-title">Segnala nuovo arrivo</h3>
            <form id="formArrivo" class="form-grid">
              <div class="form-row">
                <label for="arrivoData">Data</label>
                <input
                  type="date"
                  id="arrivoData"
                  name="data"
                />
              </div>

              <div class="form-row">
                <label for="arrivoFornitore">Fornitore / corriere</label>
                <input
                  type="text"
                  id="arrivoFornitore"
                  name="fornitore"
                  placeholder="Es. Unico, Alliance, DHL..."
                  autocomplete="off"
                />
              </div>

              <div class="form-row form-row-full">
                <label for="arrivoDescrizione">Descrizione arrivo</label>
                <textarea
                  id="arrivoDescrizione"
                  name="descrizione"
                  rows="3"
                  placeholder="Es. Espositore dermocosmesi, ordine giornaliero, tamponi rapidi..."
                ></textarea>
              </div>

              <div class="form-row">
                <label class="checkbox-inline">
                  <input
                    type="checkbox"
                    id="arrivoUrgente"
                    name="urgente"
                  />
                  Segna come <strong>urgente</strong> (es. materiale da esporre subito)
                </label>
              </div>

              <div class="form-actions">
                <button type="submit" class="btn-primary">
                  Salva arrivo
                </button>
                <p id="arriviFeedback" class="form-feedback"></p>
              </div>
            </form>
          </section>

          <!-- Tabella storico arrivi -->
          <section class="panel panel-table">
            <div class="panel-header-inline">
              <h3 class="panel-title">Storico arrivi</h3>
              <div class="panel-filters">
                <label class="filter-label" for="filtroArriviUrgente">
                  Mostra solo urgenti
                </label>
                <input
                  type="checkbox"
                  id="filtroArriviUrgente"
                  class="filter-checkbox"
                />
              </div>
            </div>

            <div class="table-wrapper">
              <table class="data-table">
                <thead>
                  <tr>
                    <th>Data</th>
                    <th>Fornitore</th>
                    <th>Descrizione</th>
                    <th>Urgente</th>
                    <th class="th-azioni" data-visible-roles="titolare">
                      Azioni
                    </th>
                  </tr>
                </thead>
                <tbody id="arriviTableBody">
                  <!-- compilata in JS -->
                </tbody>
              </table>
            </div>
          </section>
        </div>
      </section>
            <!--
        SEZIONE SCADENZE PRODOTTI
        - Titolare + Farmacia possono aggiungere/scorrere lo storico
        - Dipendenti possono segnalare
        - Cliente non vede
      -->
      <section id="sectionScadenze" class="page-section hidden">
        <header class="page-header">
          <div>
            <h2 class="page-title">Scadenze prodotti</h2>
            <p class="page-subtitle">
              Elenco delle scadenze con evidenza dei prodotti che scadono entro 45 giorni.
            </p>
          </div>
        </header>

        <div class="page-layout">
          <!-- Form nuova scadenza (titolare, farmacia, dipendente) -->
          <section
            class="panel panel-form"
            data-visible-roles="titolare,farmacia,dipendente"
          >
            <h3 class="panel-title">Aggiungi scadenza prodotto</h3>
            <form id="formScadenza" class="form-grid">
              <div class="form-row">
                <label for="scadDescrizione">Descrizione prodotto</label>
                <input
                  type="text"
                  id="scadDescrizione"
                  name="descrizione"
                  placeholder="Es. Fermenti lattici bambini 10 flaconcini"
                  autocomplete="off"
                />
              </div>

              <div class="form-row">
                <label for="scadData">Data scadenza</label>
                <input
                  type="date"
                  id="scadData"
                  name="data"
                />
              </div>

              <div class="form-row form-row-full">
                <label for="scadNote">Note (facoltative)</label>
                <textarea
                  id="scadNote"
                  name="note"
                  rows="2"
                  placeholder="Es. esporre su banco 2 dal mese precedente, promozione dedicata..."
                ></textarea>
              </div>

              <div class="form-actions">
                <button type="submit" class="btn-primary">
                  Salva scadenza
                </button>
                <p id="scadenzeFeedback" class="form-feedback"></p>
              </div>
            </form>
          </section>

          <!-- Tabella scadenze -->
          <section class="panel panel-table">
            <div class="panel-header-inline">
              <h3 class="panel-title">Elenco scadenze</h3>
              <div class="panel-filters">
                <label class="filter-label" for="filtroScadenzaPeriodo">
                  Mostra:
                </label>
                <select id="filtroScadenzaPeriodo" class="filter-input">
                  <option value="tutte">Tutte</option>
                  <option value="45">Entro 45 giorni</option>
                  <option value="90">Entro 90 giorni</option>
                </select>
              </div>
            </div>

            <div class="table-wrapper">
              <table class="data-table">
                <thead>
                  <tr>
                    <th>Descrizione</th>
                    <th>Data scadenza</th>
                    <th>Note</th>
                    <th>Stato</th>
                    <th class="th-azioni" data-visible-roles="titolare,farmacia">
                      Azioni
                    </th>
                  </tr>
                </thead>
                <tbody id="scadenzeTableBody">
                  <!-- riempita in JS -->
                </tbody>
              </table>
            </div>
          </section>
        </div>
      </section>

      <!--
        SEZIONE SCORTE MATERIALI DI SERVIZIO (NON FARMACI)
        - Carta igienica, bicchieri, rotoli POS/cassa, toner ecc.
        - Dipendenti e Farmacia possono segnalare "scorta bassa"
      -->
      <section id="sectionScorte" class="page-section hidden">
        <header class="page-header">
          <div>
            <h2 class="page-title">Scorte di servizio</h2>
            <p class="page-subtitle">
              Gestione delle scorte di materiale interno (non medicinali) come bicchierini, rotoli POS, toner...
            </p>
          </div>
        </header>

        <div class="page-layout">
          <!-- Form nuova voce di scorta -->
          <section
            class="panel panel-form"
            data-visible-roles="titolare,farmacia"
          >
            <h3 class="panel-title">Aggiungi voce di scorta</h3>
            <form id="formScorta" class="form-grid">
              <div class="form-row">
                <label for="scortaNome">Nome materiale</label>
                <input
                  type="text"
                  id="scortaNome"
                  name="nome"
                  placeholder="Es. Rotoli POS, Bicchieri carta, Toner Brother..."
                  autocomplete="off"
                />
              </div>

              <div class="form-row">
                <label for="scortaQuantita">Quantit√† attuale</label>
                <input
                  type="number"
                  id="scortaQuantita"
                  name="quantita"
                  min="0"
                  placeholder="Es. 12"
                />
              </div>

              <div class="form-row">
                <label for="scortaMinimo">Livello minimo consigliato</label>
                <input
                  type="number"
                  id="scortaMinimo"
                  name="minimo"
                  min="0"
                  placeholder="Es. 5"
                />
              </div>

              <div class="form-row form-row-full">
                <label for="scortaNote">Note (facoltative)</label>
                <textarea
                  id="scortaNote"
                  name="note"
                  rows="2"
                  placeholder="Es. usati soprattutto nel periodo influenza, controllare ogni luned√¨..."
                ></textarea>
              </div>

              <div class="form-actions">
                <button type="submit" class="btn-primary">
                  Salva voce scorta
                </button>
                <p id="scorteFeedback" class="form-feedback"></p>
              </div>
            </form>
          </section>

          <!-- Tabella scorte -->
          <section class="panel panel-table">
            <div class="panel-header-inline">
              <h3 class="panel-title">Elenco scorte</h3>
              <div class="panel-filters">
                <label class="filter-label">
                  Evidenzia scorte basse
                </label>
              </div>
            </div>

            <div class="table-wrapper">
              <table class="data-table">
                <thead>
                  <tr>
                    <th>Materiale</th>
                    <th>Quantit√†</th>
                    <th>Minimo</th>
                    <th>Note</th>
                    <th>Stato</th>
                    <th class="th-azioni">Azioni</th>
                  </tr>
                </thead>
                <tbody id="scorteTableBody">
                  <!-- righe generate in JS -->
                </tbody>
              </table>
            </div>
          </section>
        </div>
      </section>

      <!--
        SEZIONE CAMBIO CASSA
        - Registra operazioni di cambio cassa (cambi monete, banconote, fondi cassa)
        - Dipendenti e Farmacia possono inserire segnalazioni
      -->
      <section id="sectionCambioCassa" class="page-section hidden">
        <header class="page-header">
          <div>
            <h2 class="page-title">Cambio cassa</h2>
            <p class="page-subtitle">
              Registra le operazioni di cambio cassa, spostamenti di contante e note importanti.
            </p>
          </div>
        </header>

        <div class="page-layout">
          <!-- Form nuova operazione cambio cassa -->
          <section
            class="panel panel-form"
            data-visible-roles="titolare,farmacia,dipendente"
          >
            <h3 class="panel-title">Segnala operazione di cambio cassa</h3>
            <form id="formCambioCassa" class="form-grid">
              <div class="form-row">
                <label for="cassaData">Data</label>
                <input
                  type="date"
                  id="cassaData"
                  name="data"
                />
              </div>

              <div class="form-row">
                <label for="cassaTurno">Turno / Banco</label>
                <input
                  type="text"
                  id="cassaTurno"
                  name="turno"
                  placeholder="Es. Banco 1 mattina, Turno notturno, Banco 2 pomeriggio..."
                  autocomplete="off"
                />
              </div>

              <div class="form-row">
                <label for="cassaImporti">Importi principali</label>
                <input
                  type="text"
                  id="cassaImporti"
                  name="importi"
                  placeholder="Es. +50‚Ç¨ monete 1‚Ç¨, -100‚Ç¨ banconote 20‚Ç¨..."
                  autocomplete="off"
                />
              </div>

              <div class="form-row form-row-full">
                <label for="cassaNote">Note</label>
                <textarea
                  id="cassaNote"
                  name="note"
                  rows="2"
                  placeholder="Note aggiuntive utili per chi apre il turno successivo..."
                ></textarea>
              </div>

              <div class="form-actions">
                <button type="submit" class="btn-primary">
                  Salva operazione
                </button>
                <p id="cambioCassaFeedback" class="form-feedback"></p>
              </div>
            </form>
          </section>

          <!-- Tabella storico cambi cassa -->
          <section class="panel panel-table">
            <div class="panel-header-inline">
              <h3 class="panel-title">Storico cambi cassa</h3>
              <div class="panel-filters">
                <label class="filter-label" for="filtroCassaData">
                  Filtra per data:
                </label>
                <input
                  type="date"
                  id="filtroCassaData"
                  class="filter-input"
                />
              </div>
            </div>

            <div class="table-wrapper">
              <table class="data-table">
                <thead>
                  <tr>
                    <th>Data</th>
                    <th>Turno / Banco</th>
                    <th>Importi</th>
                    <th>Note</th>
                    <th class="th-azioni" data-visible-roles="titolare,farmacia">
                      Azioni
                    </th>
                  </tr>
                </thead>
                <tbody id="cambioCassaTableBody">
                  <!-- righe compilate via JS -->
                </tbody>
              </table>
            </div>
          </section>
        </div>
      </section>

      <!--
        SEZIONE ARCHIVIO FILE (SEMPLICE)
        - Non upload vero, solo elenco di "file" (nome, categoria, link/descrizione)
        - Tutti i ruoli tranne il cliente possono vedere
        - Titolare e Farmacia possono modificare
      -->
      <section id="sectionArchivio" class="page-section hidden">
        <header class="page-header">
          <div>
            <h2 class="page-title">Archivio file interno</h2>
            <p class="page-subtitle">
              Elenco di documenti, link utili e materiali interni della farmacia.
            </p>
          </div>
        </header>

        <div class="page-layout">
          <!-- Form nuovo "file" archivio -->
          <section
            class="panel panel-form"
            data-visible-roles="titolare,farmacia"
          >
            <h3 class="panel-title">Aggiungi voce in archivio</h3>
            <form id="formArchivio" class="form-grid">
              <div class="form-row">
                <label for="archivioNome">Nome file / documento</label>
                <input
                  type="text"
                  id="archivioNome"
                  name="nome"
                  placeholder="Es. Protocollo tamponi rapidi 2025"
                  autocomplete="off"
                />
              </div>

              <div class="form-row">
                <label for="archivioCategoria">Categoria</label>
                <select id="archivioCategoria" name="categoria">
                  <option value="procedure">Procedure</option>
                  <option value="contratti">Contratti</option>
                  <option value="modulistica">Modulistica</option>
                  <option value="marketing">Marketing / Vetrine</option>
                  <option value="altro">Altro</option>
                </select>
              </div>

              <div class="form-row form-row-full">
                <label for="archivioLink">
                  Link esterno o descrizione breve
                </label>
                <textarea
                  id="archivioLink"
                  name="link"
                  rows="2"
                  placeholder="URL (es. https://...) oppure descrizione del documento archiviato."
                ></textarea>
              </div>

              <div class="form-actions">
                <button type="submit" class="btn-primary">
                  Salva in archivio
                </button>
                <p id="archivioFeedback" class="form-feedback"></p>
              </div>
            </form>
          </section>

          <!-- Tabella archivio -->
          <section class="panel panel-table">
            <div class="panel-header-inline">
              <h3 class="panel-title">Elenco archivio</h3>
              <div class="panel-filters">
                <label class="filter-label" for="filtroArchivioCategoria">
                  Categoria:
                </label>
                <select id="filtroArchivioCategoria" class="filter-input">
                  <option value="tutte">Tutte</option>
                  <option value="procedure">Procedure</option>
                  <option value="contratti">Contratti</option>
                  <option value="modulistica">Modulistica</option>
                  <option value="marketing">Marketing / Vetrine</option>
                  <option value="altro">Altro</option>
                </select>
              </div>
            </div>

            <div class="table-wrapper">
              <table class="data-table">
                <thead>
                  <tr>
                    <th>Nome</th>
                    <th>Categoria</th>
                    <th>Link / Descrizione</th>
                    <th class="th-azioni" data-visible-roles="titolare,farmacia">
                      Azioni
                    </th>
                  </tr>
                </thead>
                <tbody id="archivioTableBody">
                  <!-- compilata in JS -->
                </tbody>
              </table>
            </div>
          </section>
        </div>
      </section>
            <!--
        SEZIONE IMPOSTAZIONI TITOLARE
        - Solo ruolo: TITOLARE
        - Cambiare dati farmacia, credenziali titolare, colori tema
      -->
      <section
        id="sectionImpostazioni"
        class="page-section hidden"
        data-visible-roles="titolare"
      >
        <header class="page-header">
          <div>
            <h2 class="page-title">Impostazioni portale</h2>
            <p class="page-subtitle">
              Configura i dati della Farmacia Montesano, le credenziali del titolare e lo stile grafico del portale.
            </p>
          </div>
        </header>

        <div class="page-layout page-layout-columns-3">
          <!-- DATI FARMACIA -->
          <section class="panel panel-form">
            <h3 class="panel-title">Dati farmacia</h3>
            <form id="formImpostazioniFarmacia" class="form-grid">
              <div class="form-row form-row-full">
                <label for="impNomeFarmacia">Nome farmacia</label>
                <input
                  type="text"
                  id="impNomeFarmacia"
                  name="nomeFarmacia"
                  placeholder="Es. Farmacia Montesano"
                  autocomplete="off"
                />
              </div>

              <div class="form-row form-row-full">
                <label for="impIndirizzoFarmacia">Indirizzo</label>
                <input
                  type="text"
                  id="impIndirizzoFarmacia"
                  name="indirizzoFarmacia"
                  placeholder="Es. Via Esempio 12, Matera"
                  autocomplete="off"
                />
              </div>

              <div class="form-row form-row-full">
                <label for="impTelefonoFarmacia">Telefono</label>
                <input
                  type="tel"
                  id="impTelefonoFarmacia"
                  name="telefonoFarmacia"
                  placeholder="Es. 0835 000000"
                  autocomplete="off"
                />
              </div>

              <div class="form-actions">
                <button type="submit" class="btn-primary">
                  Salva dati farmacia
                </button>
                <p id="impFarmaciaFeedback" class="form-feedback"></p>
              </div>
            </form>
          </section>

          <!-- CREDENZIALI TITOLARE -->
          <section class="panel panel-form">
            <h3 class="panel-title">Credenziali Titolare</h3>
            <p class="panel-help-text">
              Modifica le credenziali di accesso del titolare. √à consigliato farlo al primo accesso.
            </p>

            <form id="formImpostazioniTitolare" class="form-grid">
              <div class="form-row form-row-full">
                <label for="impUserTitolare">Username titolare</label>
                <input
                  type="text"
                  id="impUserTitolare"
                  name="usernameTitolare"
                  autocomplete="off"
                />
              </div>

              <div class="form-row form-row-full">
                <label for="impPasswordTitolare">Nuova password</label>
                <input
                  type="password"
                  id="impPasswordTitolare"
                  name="passwordTitolare"
                  autocomplete="new-password"
                />
              </div>

              <div class="form-row form-row-full">
                <label for="impPasswordTitolareConferma">
                  Conferma nuova password
                </label>
                <input
                  type="password"
                  id="impPasswordTitolareConferma"
                  name="passwordTitolareConferma"
                  autocomplete="new-password"
                />
              </div>

              <div class="form-actions">
                <button type="submit" class="btn-primary">
                  Aggiorna credenziali
                </button>
                <p id="impTitolareFeedback" class="form-feedback"></p>
              </div>
            </form>
          </section>

          <!-- TEMA GRAFICO -->
          <section class="panel panel-form">
            <h3 class="panel-title">Tema grafico</h3>
            <p class="panel-help-text">
              Personalizza i colori principali del portale. Le modifiche verranno salvate nel browser (localStorage).
            </p>

            <form id="formImpostazioniTema" class="form-grid">
              <div class="form-row">
                <label for="impColorePrimario">Colore primario</label>
                <input
                  type="color"
                  id="impColorePrimario"
                  name="colorePrimario"
                  value="#009879"
                />
              </div>

              <div class="form-row">
                <label for="impColoreSecondario">Colore secondario</label>
                <input
                  type="color"
                  id="impColoreSecondario"
                  name="coloreSecondario"
                  value="#1f7ae0"
                />
              </div>

              <div class="form-row">
                <label for="impColoreSfondo">Sfondo pagina</label>
                <input
                  type="color"
                  id="impColoreSfondo"
                  name="coloreSfondo"
                  value="#f5f6fb"
                />
              </div>

              <div class="form-row form-row-full">
                <label for="impColoreCards">Sfondo cards</label>
                <input
                  type="color"
                  id="impColoreCards"
                  name="coloreCards"
                  value="#ffffff"
                />
              </div>

              <div class="form-actions">
                <button type="submit" class="btn-primary">
                  Applica tema
                </button>
                <button
                  type="button"
                  id="btnResetTema"
                  class="btn-secondary"
                >
                  Ripristina tema standard
                </button>
                <p id="impTemaFeedback" class="form-feedback"></p>
              </div>
            </form>
          </section>
        </div>
      </section>

      <!--
        SEZIONE CLIENTE ‚Äì EVENTI
        - Visibile solo all'utente con ruolo "cliente"
        - Gli eventi vengono gestiti dal Titolare tramite Comunicazioni / Impostazioni (JS)
      -->
      <section
        id="sectionEventiCliente"
        class="page-section hidden"
        data-visible-roles="cliente"
      >
        <header class="page-header">
          <div>
            <h2 class="page-title">Eventi in farmacia</h2>
            <p class="page-subtitle">
              Rimani aggiornato su giornate promozionali, servizi speciali, giornate di screening e altri eventi.
            </p>
          </div>
        </header>

        <section class="panel panel-table">
          <h3 class="panel-title">Calendario eventi</h3>
          <div class="table-wrapper">
            <table class="data-table data-table-simple">
              <thead>
                <tr>
                  <th>Data</th>
                  <th>Evento</th>
                  <th>Descrizione</th>
                </tr>
              </thead>
              <tbody id="eventiClienteTableBody">
                <!-- popolata da JS con gli eventi caricati dal titolare -->
              </tbody>
            </table>
          </div>
        </section>
      </section>

      <!--
        SEZIONE CLIENTE ‚Äì PROMOZIONI
        - Slider / elenco di promozioni gestite dal Titolare
        - Mostrate in forma di card con nome, descrizione, prezzo
      -->
      <section
        id="sectionPromozioniCliente"
        class="page-section hidden"
        data-visible-roles="cliente"
      >
        <header class="page-header">
          <div>
            <h2 class="page-title">Promozioni attive</h2>
            <p class="page-subtitle">
              Offerte, pacchetti e promozioni attive nella Farmacia Montesano. Chiedi sempre conferma al banco.
            </p>
          </div>
        </header>

        <section class="panel">
          <h3 class="panel-title">Promozioni</h3>
          <p class="panel-help-text">
            Scorri le card per vedere le promozioni disponibili.
          </p>

          <!-- Carosello semplice, controlli avanti/indietro gestiti via JS -->
          <div class="promo-carousel">
            <button
              class="carousel-btn carousel-btn-prev"
              id="promoPrevBtn"
              aria-label="Promozione precedente"
            >
              ‚Äπ
            </button>

            <div class="promo-carousel-viewport">
              <div id="promoCarouselInner" class="promo-carousel-inner">
                <!-- card promozioni inserite in JS -->
              </div>
            </div>

            <button
              class="carousel-btn carousel-btn-next"
              id="promoNextBtn"
              aria-label="Promozione successiva"
            >
              ‚Ä∫
            </button>
          </div>

          <div class="promo-dots" id="promoDotsContainer">
            <!-- dot di navigazione generati in JS -->
          </div>
        </section>
      </section>

      <!--
        SEZIONE CLIENTE ‚Äì FARMACIA DI TURNO / APPOGGIO
        - Mostra gli stessi dati impostati dal Titolare nella sezione Turno
      -->
      <section
        id="sectionTurnoCliente"
        class="page-section hidden"
        data-visible-roles="cliente"
      >
        <header class="page-header">
          <div>
            <h2 class="page-title">Farmacia di turno</h2>
            <p class="page-subtitle">
              Informazioni aggiornate sulla farmacia di turno e sulla farmacia di appoggio (dati forniti dalla Farmacia Montesano).
            </p>
          </div>
        </header>

        <div class="page-layout page-layout-single">
          <section class="panel">
            <h3 class="panel-title">Turno attuale</h3>

            <div class="turno-box">
              <div class="turno-info">
                <h4>Farmacia di turno</h4>
                <p id="turnoClienteNome" class="turno-main-name">‚Äì</p>
                <p id="turnoClienteIndirizzo" class="turno-main-address">
                  ‚Äì
                </p>
                <p id="turnoClienteTelefono" class="turno-main-phone">‚Äì</p>
              </div>

              <div class="turno-info turno-info-secondary">
                <h4>Farmacia di appoggio</h4>
                <p id="turnoClienteAppoggioNome" class="turno-main-name">
                  ‚Äì
                </p>
                <p
                  id="turnoClienteAppoggioIndirizzo"
                  class="turno-main-address"
                >
                  ‚Äì
                </p>
                <p
                  id="turnoClienteAppoggioTelefono"
                  class="turno-main-phone"
                >
                  ‚Äì
                </p>
              </div>
            </div>

            <p class="small-text muted">
              Le informazioni sui turni sono gestite direttamente dalla Farmacia Montesano.
              In caso di dubbi, verifica sempre telefonicamente prima di recarti in farmacia.
            </p>
          </section>
        </div>
      </section>
            <!--
        SEZIONE CONTROLLI (FACOLTATIVA / PLACEHOLDER)
        - Potr√† essere usata in futuro per dashboard di controllo, grafici, ecc.
        - Al momento √® solo un segnaposto non linkato nel menu.
      -->
      <section
        id="sectionControlli"
        class="page-section hidden"
        data-visible-roles="titolare"
      >
        <header class="page-header">
          <div>
            <h2 class="page-title">Controlli e riepiloghi</h2>
            <p class="page-subtitle">
              Area riservata al titolare per futuri controlli avanzati, riepiloghi e statistiche del portale.
            </p>
          </div>
        </header>

        <section class="panel">
          <h3 class="panel-title">In sviluppo</h3>
          <p class="panel-help-text">
            Questa sezione √® un placeholder. In futuro potr√† ospitare grafici, riepiloghi di assenze,
            storico cambi cassa, andamento scadenze, ecc.
          </p>

          <div class="placeholder-box">
            <p>
              Placeholder controlli ‚Äì nessun dato reale al momento. Tutte le funzionalit√† principali
              sono gi√† operative nelle rispettive sezioni (Assenze, Turni, Comunicazioni, ecc.).
            </p>
          </div>
        </section>
      </section>
    </main>

    <!--
      FOOTER SEMPLICE
      - Visibile solo all'interno dell'app (dopo login)
    -->
    <footer id="appFooter" class="app-footer hidden">
      <div class="footer-inner">
        <p class="footer-text">
          &copy;
          <span id="footerYear"></span>
          Farmacia Montesano ¬∑ Portale Professionale ‚Äì
          <span class="footer-small">
            dati salvati in locale (localStorage) ¬∑ versione demo front-end
          </span>
        </p>
      </div>
    </footer>

    <!-- Script principale del portale -->
    <script src="script.js"></script>
  </body>
</html>
