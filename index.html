<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <title>Portale Farmacia Montesano ‚Äì Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="app-shell">

    <!-- =====================================================
         SCHERMATA AUTENTICAZIONE (DEMO LOGIN / REGISTER)
         ===================================================== -->
    <div id="auth-screen" class="auth-screen">
      <div class="auth-card">
        <h1 class="auth-title">Portale Farmacia Montesano</h1>
        <p class="auth-subtitle">Demo di accesso (senza password reale).</p>

        <div class="auth-tabs">
          <button id="btn-tab-login" class="auth-tab active">Login</button>
          <button id="btn-tab-register" class="auth-tab">Registrati</button>
        </div>

        <!-- LOGIN -->
        <div id="auth-login" class="auth-panel">
          <p class="auth-section-title">Entra velocemente come:</p>
          <div class="auth-quick-grid">
            <button class="auth-quick-btn" data-role="farmacia">
              Farmacia (dashboard attuale)
            </button>
            <button class="auth-quick-btn" data-role="titolare">
              Titolare
            </button>
            <button class="auth-quick-btn" data-role="cliente">
              Cliente
            </button>
          </div>

          <p class="auth-section-title" style="margin-top:18px;">Oppure scegli un dipendente:</p>
          <div class="auth-quick-grid auth-quick-grid-smaller">
            <button class="auth-quick-pill" data-role="dipendente" data-name="Fazzino Cosimo">Fazzino C.</button>
            <button class="auth-quick-pill" data-role="dipendente" data-name="Rizzelli Patrizia">Rizzelli P.</button>
            <button class="auth-quick-pill" data-role="dipendente" data-name="Andrisani Daniela">Andrisani D.</button>
            <button class="auth-quick-pill" data-role="dipendente" data-name="Zavaliche Anamaria">Zavaliche A.</button>
            <button class="auth-quick-pill" data-role="dipendente" data-name="Maragno Annalisa">Maragno A.</button>
            <button class="auth-quick-pill" data-role="dipendente" data-name="Veneziano Roberta">Veneziano R.</button>
          </div>
        </div>

        <!-- REGISTER -->
        <div id="auth-register" class="auth-panel" style="display:none;">
          <p class="auth-section-title">Crea un account demo</p>
          <form id="register-form">
            <label class="auth-label">
              Tipo utente
              <select id="reg-ruolo">
                <option value="cliente">Cliente</option>
                <option value="dipendente">Dipendente</option>
              </select>
            </label>

            <label class="auth-label">
              Username
              <input id="reg-username" type="text" required />
            </label>

            <label class="auth-label">
              Password
              <input id="reg-password" type="password" required />
            </label>

            <label class="auth-label">
              Cellulare (solo clienti)
              <input id="reg-phone" type="tel" placeholder="Solo per clienti" />
            </label>

            <label class="auth-label">
              Email (facoltativa)
              <input id="reg-email" type="email" placeholder="opzionale" />
            </label>

            <button type="submit" class="auth-submit">Registra account demo</button>
          </form>
          <p class="auth-small-note">
            Tutto salvato solo in questo browser (localStorage). √à solo una demo.
          </p>
        </div>
      </div>
    </div>

    <!-- =====================================================
         DASHBOARD PRINCIPALE (FARMACIA / TITOLARE / DIP)
         ===================================================== -->
    <div id="dashboard" class="dashboard-root" style="display:none;">

      <!-- HEADER -->
      <header class="app-header">
        <div class="app-header-left">
          <button id="btn-main-menu" class="icon-button" aria-label="Menu principale">
            <span class="icon-hamburger"></span>
          </button>
          <div class="app-header-title-wrap">
            <h1>PORTALE FARMACIA MONTESANO</h1>
            <span class="app-header-subtitle" id="dashboard-subtitle">
              Dashboard principale
            </span>
          </div>
        </div>
        <div class="app-header-right">
          <span id="header-role-label" class="header-role-label"></span>
          <button id="btn-logout" class="link-button">Esci</button>
        </div>
      </header>

      <!-- LAYOUT 2√ó2 QUADRANTI -->
      <main class="dashboard-quad-grid">

        <!-- Q1 ‚Äì SEZIONI FARMACIA (3√ó3 CARD) -->
        <section class="card-quad" id="q1-sezioni">
          <h2 class="quad-title">Sezioni farmacia</h2>
          <p class="quad-caption">Accesso rapido alle aree operative.</p>

          <div class="sezioni-grid">
            <button class="m-card m-card-green" data-section="assenti">
              <span class="m-card-label">Nuovi</span>
              <span class="m-card-title">Assenti / Permessi</span>
            </button>
            <button class="m-card m-card-blue" data-section="turno">
              <span class="m-card-label">Nuovo</span>
              <span class="m-card-title">Farmacia di turno</span>
            </button>
            <button class="m-card m-card-pink" data-section="comunicazioni">
              <span class="m-card-label">Nuova</span>
              <span class="m-card-title">Comunicazioni</span>
            </button>

            <button class="m-card m-card-teal" data-section="procedure">
              <span class="m-card-label">Nuovo</span>
              <span class="m-card-title">Procedure</span>
            </button>
            <button class="m-card m-card-yellow" data-section="logistica">
              <span class="m-card-label">Nuovo</span>
              <span class="m-card-title">Logistica</span>
            </button>
            <button class="m-card m-card-cyan" data-section="magazzino">
              <span class="m-card-label">Nuova</span>
              <span class="m-card-title">Magazziniera</span>
            </button>

            <button class="m-card m-card-orange" data-section="scadenze">
              <span class="m-card-label">Nuovi</span>
              <span class="m-card-title">Prodotti in scadenza</span>
            </button>
            <button class="m-card m-card-green2" data-section="consumabili">
              <span class="m-card-label">Nuovo</span>
              <span class="m-card-title">Consumabili</span>
            </button>
            <button class="m-card m-card-blue2" data-section="archivio">
              <span class="m-card-label">Nuovo</span>
              <span class="m-card-title">Consegne / Archivio file</span>
            </button>
          </div>
        </section>

        <!-- Q2 ‚Äì PANORAMICA RAPIDA (resta, ma bella) -->
        <section class="card-quad" id="q2-panoramica">
          <h2 class="quad-title">Panoramica rapida</h2>
          <p class="quad-caption">
            Vedi subito cosa succede oggi. Dopo 20 secondi senza click torna qui in automatico.
          </p>

          <div id="panoramica-cards" class="panoramica-grid">
            <div class="pan-card pan-services">
              <div class="pan-icon">üìÜ</div>
              <div>
                <div class="pan-title">Servizi di oggi</div>
                <div class="pan-value" id="pan-servizi-oggi">0</div>
                <div class="pan-hint">Appuntamenti e servizi programmati.</div>
              </div>
            </div>

            <div class="pan-card pan-assenze">
              <div class="pan-icon">üßë‚Äç‚öïÔ∏è</div>
              <div>
                <div class="pan-title">Assenze confermate</div>
                <div class="pan-value" id="pan-assenze-oggi">0</div>
                <div class="pan-hint">Chi manca oggi e nei prossimi giorni.</div>
              </div>
            </div>

            <div class="pan-card pan-offerte">
              <div class="pan-icon">üè∑Ô∏è</div>
              <div>
                <div class="pan-title">Offerte attive</div>
                <div class="pan-value" id="pan-offerte-attive">0</div>
                <div class="pan-hint">Promo in corso e pacchetti.</div>
              </div>
            </div>

            <div class="pan-card pan-comunicazioni">
              <div class="pan-icon">üí¨</div>
              <div>
                <div class="pan-title">Comunicazioni non lette</div>
                <div class="pan-value" id="pan-comunicazioni">1</div>
                <div class="pan-hint">Note operative interne.</div>
              </div>
            </div>
          </div>
        </section>

        <!-- Q3 ‚Äì PROMOZIONI & GIORNATE IN FARMACIA -->
        <section class="card-quad" id="q3-promozioni">
          <h2 class="quad-title">Promozioni & giornate in farmacia</h2>
          <p class="quad-caption">Cosa stiamo offrendo e cosa c'√® in programma.</p>

          <div class="promo-grid">
            <!-- Offerte -->
            <div class="promo-column">
              <div class="promo-header">
                <h3>Offerte in corso</h3>
                <button class="btn-primary-sm" data-open-modal="offerta">+ Aggiungi</button>
              </div>
              <ul id="lista-offerte" class="promo-list">
                <!-- riempito da JS -->
              </ul>
            </div>

            <!-- Giornate -->
            <div class="promo-column">
              <div class="promo-header">
                <h3>Giornate in farmacia</h3>
                <button class="btn-primary-sm" data-open-modal="giornata">+ Aggiungi</button>
              </div>
              <ul id="lista-giornate" class="promo-list">
                <!-- riempito da JS -->
              </ul>
            </div>
          </div>

          <div class="promo-footer">
            <button id="btn-riepilogo-promozioni" class="btn-secondary">
              Vedi tutte le offerte e le giornate
            </button>
          </div>
        </section>
                <!-- Q4 ‚Äì AGENDA SERVIZI (CALENDARIO MENSILE) -->
        <section class="card-quad" id="q4-agenda">
          <h2 class="quad-title">Agenda servizi</h2>
          <p class="quad-caption">Gestione appuntamenti, servizi ed esami.</p>

          <div class="agenda-header">
            <button id="btn-nuovo-appuntamento" class="btn-primary-sm">
              + Nuovo appuntamento
            </button>

            <div class="agenda-month-nav">
              <button id="btn-mese-prev" class="icon-button">&lt;</button>
              <span id="agenda-month-label"></span>
              <button id="btn-mese-next" class="icon-button">&gt;</button>
            </div>
          </div>

          <div class="agenda-calendar">
            <div class="agenda-weekdays">
              <div>LU</div><div>MA</div><div>ME</div><div>GI</div><div>VE</div><div>SA</div><div>DO</div>
            </div>
            <div id="agenda-days-grid" class="agenda-days-grid">
              <!-- celle del calendario generate da JS -->
            </div>
          </div>
        </section>
      </main>
    </div> <!-- fine dashboard-root -->

    <!-- =====================================================
         MOBILE DASHBOARD (resta semplice, come prima)
         ===================================================== -->
    <div class="mobile-dashboard">
      <header class="m-header">
        <div class="m-logo-wrap">
          <span class="m-logo-text">Farmacia Montesano</span>
        </div>
        <button class="m-hamburger" aria-label="Menu">
          <span></span>
        </button>
      </header>

      <main class="m-main">
        <section class="m-card-grid">
          <button class="m-card m-card-green"><span class="m-card-label">Nuovi</span><span class="m-card-title">Assenti / Permessi</span></button>
          <button class="m-card m-card-blue"><span class="m-card-label">Nuovo</span><span class="m-card-title">Farmacia di turno</span></button>
          <button class="m-card m-card-pink"><span class="m-card-label">Nuova</span><span class="m-card-title">Comunicazioni</span></button>
          <button class="m-card m-card-teal"><span class="m-card-label">Nuove</span><span class="m-card-title">Procedure</span></button>
          <button class="m-card m-card-yellow"><span class="m-card-label">Nuovo</span><span class="m-card-title">Logistica</span></button>
          <button class="m-card m-card-cyan"><span class="m-card-label">Nuova</span><span class="m-card-title">Magazziniera</span></button>
          <button class="m-card m-card-orange"><span class="m-card-label">Nuovi</span><span class="m-card-title">Prodotti in scadenza</span></button>
          <button class="m-card m-card-green2"><span class="m-card-label">Nuovo</span><span class="m-card-title">Consumabili</span></button>
          <button class="m-card m-card-blue2 m-card-wide"><span class="m-card-label">Nuovo</span><span class="m-card-title">Archivio file</span></button>
        </section>
      </main>
    </div>

    <!-- =====================================================
         MODAL GENERICO (offerte/giornate/appuntamenti)
         ===================================================== -->
    <div id="modal-backdrop" class="modal-backdrop" style="display:none;">
      <div id="modal-dialog" class="modal-dialog">
        <div class="modal-header">
          <h3 id="modal-title"></h3>
          <button id="modal-close" class="icon-button">&times;</button>
        </div>
        <div id="modal-body" class="modal-body">
          <!-- riempito via JS -->
        </div>
      </div>
    </div>

    <!-- MODAL RIEPILOGO PROMO/GIORNATE -->
    <div id="modal-riepilogo" class="modal-backdrop" style="display:none;">
      <div class="modal-dialog modal-dialog-large">
        <div class="modal-header">
          <h3>Riepilogo promozioni & giornate</h3>
          <button id="riepilogo-close" class="icon-button">&times;</button>
        </div>
        <div class="modal-body modal-riepilogo-body">
          <div class="riepilogo-section">
            <h4>Offerte attive</h4>
            <ul id="riepilogo-offerte-attive" class="riepilogo-list"></ul>
            <h4>Giornate attive</h4>
            <ul id="riepilogo-giornate-attive" class="riepilogo-list"></ul>
          </div>
          <div class="riepilogo-section riepilogo-scadute">
            <h4>Offerte scadute</h4>
            <ul id="riepilogo-offerte-scadute" class="riepilogo-list"></ul>
            <h4>Giornate scadute</h4>
            <ul id="riepilogo-giornate-scadute" class="riepilogo-list"></ul>
          </div>
        </div>
      </div>
    </div>

    <!-- MODAL GIORNO AGENDA (press prolungato) -->
    <div id="modal-giorno" class="modal-backdrop" style="display:none;">
      <div class="modal-dialog modal-dialog-medium">
        <div class="modal-header">
          <h3 id="modal-giorno-title"></h3>
          <button id="modal-giorno-close" class="icon-button">&times;</button>
        </div>
        <div class="modal-body">
          <ul id="modal-giorno-list" class="giorno-list"></ul>
        </div>
      </div>
    </div>

  </div> <!-- fine app-shell -->

  <script src="script.js"></script>
</body>
</html>
