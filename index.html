<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <title>Portale Farmacia Montesano ‚Äì Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
<div id="app">

  <!-- TOP BAR -->
  <header class="topbar">
    <div class="topbar-left">
      <button class="hamburger" aria-label="Menu principale">
        <span></span>
      </button>
      <div class="topbar-title-wrap">
        <div class="topbar-title">PORTALE FARMACIA MONTESANO</div>
        <div class="topbar-subtitle" id="topbar-subtitle">Accesso non effettuato</div>
      </div>
    </div>

    <div class="topbar-center quick-links">
      <a href="mailto:info@farmaciamontesano.it" target="_blank" class="quick-link-btn">
        ‚úâÔ∏è <span>Mail</span>
      </a>
      <a href="https://www.google.com" target="_blank" class="quick-link-btn">
        üíä <span>Medybox</span>
      </a>
      <a href="https://web.whatsapp.com" target="_blank" class="quick-link-btn">
        üí¨ <span>WhatsApp</span>
      </a>
      <a href="https://www.google.com" target="_blank" class="quick-link-btn">
        üöö <span>Pharmercure</span>
      </a>
    </div>

    <div class="topbar-right">
      <span class="user-label" id="user-label">Ospite</span>
      <button class="link-button" id="btn-esci" type="button">Esci</button>
    </div>
  </header>

  <!-- ============ AUTH VIEW ============ -->
  <section id="view-auth" class="auth-view app-view">
    <div class="auth-card">
      <h2>Login</h2>
      <p class="auth-sub">Inserisci le tue credenziali.</p>
      <form id="login-form" class="auth-form">
        <label class="field">
          <span>Username</span>
          <input type="text" id="login-username" autocomplete="username" />
        </label>
        <label class="field">
          <span>Password</span>
          <input type="password" id="login-password" autocomplete="current-password" />
        </label>
        <button type="submit" class="primary full-width">Entra</button>
      </form>

      <div class="auth-demo">
        <p><strong>Utenti gi√† pronti</strong></p>
        <p>Farmacia: <code>farmacia / farmacia</code></p>
        <p>Titolare: <code>titolare / titolare</code></p>
        <p>Dipendenti: <code>fazzino / 1234</code> ecc.</p>
        <button type="button" id="btn-demo-farmacia" class="small-primary full-width">
          Entra come Farmacia
        </button>
      </div>
    </div>

    <div class="auth-card">
      <h2>Registrazione</h2>
      <p class="auth-sub">Per clienti e dipendenti.</p>
      <form id="register-form" class="auth-form">
        <label class="field">
          <span>Nome e cognome</span>
          <input type="text" id="reg-fullname" />
        </label>
        <label class="field">
          <span>Ruolo</span>
          <select id="reg-role">
            <option value="cliente">Cliente</option>
            <option value="dipendente">Dipendente</option>
          </select>
        </label>
        <label class="field">
          <span>Telefono (obbligatorio per i clienti)</span>
          <input type="tel" id="reg-phone" />
        </label>
        <label class="field">
          <span>Email (facoltativa)</span>
          <input type="email" id="reg-email" />
        </label>
        <label class="field">
          <span>Username</span>
          <input type="text" id="reg-username" autocomplete="username" />
        </label>
        <label class="field">
          <span>Password</span>
          <input type="password" id="reg-password" autocomplete="new-password" />
        </label>
        <button type="submit" class="primary full-width">Registrati</button>
      </form>
    </div>
  </section>

  <!-- ============ VIEW FARMACIA ============ -->
  <main id="view-farmacia" class="dashboard-grid app-view hidden">
    <!-- PULSANTE RAPIDO CENTRALE -->
    <div id="quick-btn">
      <span>+</span>
    </div>

    <!-- MENU RADIALE A 7 ICONE -->
    <div id="quick-menu" class="hidden">
      <button class="qm-btn" data-action="nuova-com">
        <span>üí¨</span>
        <small>Comunic.</small>
      </button>

      <button class="qm-btn" data-action="nuovo-app">
        <span>üìÜ</span>
        <small>Appunt.</small>
      </button>

      <button class="qm-btn" data-action="consegne">
        <span>üì¶</span>
        <small>Consegne</small>
      </button>

      <button class="qm-btn" data-action="consumabili">
        <span>üßª</span>
        <small>Consumab.</small>
      </button>

      <button class="qm-btn" data-action="scadenza">
        <span>‚è∞</span>
        <small>Scadenza</small>
      </button>

      <button class="qm-btn" data-action="procedura">
        <span>üìÑ</span>
        <small>Procedura</small>
      </button>

      <button class="qm-btn" data-action="cambio-farmacia">
        <span>üè•</span>
        <small>Cambio far.</small>
      </button>
    </div>

    <!-- Q1 ‚Äì SEZIONI FARMACIA -->
    <section class="panel panel-q1">
      <header class="panel-header">
        <div>
          <h2>Sezioni farmacia</h2>
          <p>Accesso rapido alle aree operative.</p>
        </div>
      </header>

      <div class="sezioni-grid">
        <button class="sec-card sec-green" data-section="assenti">
          <span class="sec-label">Sezione</span>
          <span class="sec-title">Assenti / Permessi</span>
        </button>
        <button class="sec-card sec-blue" data-section="turno">
          <span class="sec-label">Sezione</span>
          <span class="sec-title">Farmacia di turno</span>
        </button>
        <button class="sec-card sec-pink" data-section="comunicazioni">
          <span class="sec-label">Sezione</span>
          <span class="sec-title">Comunicazioni interne</span>
        </button>
        <button class="sec-card sec-teal" data-section="procedure">
          <span class="sec-label">Sezione</span>
          <span class="sec-title">Procedure</span>
        </button>
        <button class="sec-card sec-orange" data-section="logistica">
          <span class="sec-label">Sezione</span>
          <span class="sec-title">Logistica</span>
        </button>
        <button class="sec-card sec-cyan" data-section="magazzino">
          <span class="sec-label">Sezione</span>
          <span class="sec-title">Magazziniera</span>
        </button>
        <button class="sec-card sec-red" data-section="scadenze">
          <span class="sec-label">Sezione</span>
          <span class="sec-title">Prodotti in scadenza</span>
        </button>
        <button class="sec-card sec-lime" data-section="consumabili">
          <span class="sec-label">Sezione</span>
          <span class="sec-title">Consumabili</span>
        </button>
        <button class="sec-card sec-purple" data-section="consegne">
          <span class="sec-label">Sezione</span>
          <span class="sec-title">Consegne / Archivio</span>
        </button>
      </div>
    </section>

    <!-- Q2 ‚Äì AREA CONTENUTI -->
    <section class="panel panel-q2">
      <header class="panel-header">
        <div>
          <h2>Area contenuti</h2>
          <p>Panoramica rapida e dettaglio sezioni.</p>
        </div>
      </header>

      <div class="area-content-wrapper">
        <!-- Panoramica -->
        <div id="panoramica-box" class="area-panorama">
          <h3>Panoramica rapida</h3>
          <p class="hint-text">
            Vedi al volo cosa succede oggi. Dopo 20 secondi senza click torni qui in automatico.
          </p>
          <div class="panorama-tiles">
            <div class="p-tile" id="tile-servizi-oggi">
              <div class="p-icon">üìÜ</div>
              <div class="p-main">
                <div class="p-title">Servizi di oggi</div>
                <div class="p-value" id="val-servizi-oggi">0</div>
                <div class="p-sub">
                  Appuntamenti e servizi programmati per la giornata in corso.
                </div>
              </div>
            </div>
            <div class="p-tile" id="tile-assenze-oggi">
              <div class="p-icon">üßë‚Äç‚öïÔ∏è</div>
              <div class="p-main">
                <div class="p-title">Assenze confermate</div>
                <div class="p-value" id="val-assenze-oggi">0</div>
                <div class="p-sub">
                  Assenti e permessi approvati per oggi.
                </div>
              </div>
            </div>
            <div class="p-tile" id="tile-scadenze-60">
              <div class="p-icon">‚è≥</div>
              <div class="p-main">
                <div class="p-title">Scadenze entro 60 giorni</div>
                <div class="p-value" id="val-scadenze-60">0</div>
                <div class="p-sub">
                  Prodotti che diventeranno critici a breve.
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Dettaglio sezione -->
        <div id="sezione-dettaglio" class="area-detail hidden">
          <header class="detail-header">
            <h3 id="detail-title">Dettaglio sezione</h3>
            <button id="btn-back-panorama" class="small-secondary" type="button">
              Torna a panoramica
            </button>
          </header>
          <div id="detail-content" class="detail-body">
            <!-- Contenuto dinamico da JS -->
          </div>
        </div>
      </div>
    </section>

    <!-- Q3 ‚Äì PROMOZIONI E GIORNATE -->
    <section class="panel panel-q3">
      <header class="panel-header">
        <div>
          <h2>Promozioni &amp; giornate in farmacia</h2>
          <p>Offerte, giornate speciali e scadenze prodotti.</p>
        </div>
        <div class="panel-actions">
          <button id="btn-add-offerta" class="small-primary" type="button">+ Offerta</button>
          <button id="btn-add-giornata" class="small-primary" type="button">+ Giornata</button>
          <button id="btn-view-all-promo" class="small-secondary" type="button">
            Vedi tutte
          </button>
        </div>
      </header>

      <div class="promo-grid">
        <div class="promo-column">
          <h3>Offerte attive</h3>
          <ul id="lista-offerte-attive" class="simple-list"></ul>
          <h4 class="subsection-title">Offerte scadute</h4>
          <ul id="lista-offerte-scadute" class="simple-list simple-list-muted"></ul>
        </div>

        <div class="promo-column">
          <h3>Giornate in farmacia</h3>
          <p class="hint-text">
            Clicca una giornata per prendere e vedere appuntamenti (slot da 30 min).
          </p>
          <ul id="lista-giornate-attive" class="simple-list"></ul>
          <h4 class="subsection-title">Giornate concluse</h4>
          <ul id="lista-giornate-scadute" class="simple-list simple-list-muted"></ul>
        </div>
      </div>

      <div class="promo-bottom-actions">
        <button id="btn-add-scadenza" class="small-primary" type="button">
          + Inserisci nuova scadenza prodotto
        </button>
      </div>
    </section>

    <!-- Q4 ‚Äì AGENDA SERVIZI ‚Äì STILE WIDGET MAC -->
    <section class="panel panel-q4">
      <header class="panel-header">
        <div>
          <h2>Agenda servizi</h2>
          <p>Appuntamenti del giorno e prossimi giorni.</p>
        </div>
        <div class="panel-actions">
          <span id="agenda-header-date" class="agenda-header-date"></span>
        </div>
      </header>

      <div class="agenda-widget">
        <!-- COLONNA SINISTRA: OGGI -->
        <div class="agenda-column agenda-today" id="agenda-today-column">
          <div class="agenda-today-header">
            <span class="agenda-today-label">Oggi</span>
            <span id="agenda-today-date" class="agenda-today-date"></span>
          </div>
          <div id="agenda-today-list" class="agenda-today-list">
            <!-- Riempito da JS -->
          </div>
        </div>

        <!-- COLONNA DESTRA: PROSSIMI GIORNI -->
        <div class="agenda-column agenda-next" id="agenda-next-column">
          <div class="agenda-next-header">
            <span>Prossimi giorni</span>
          </div>
          <div id="agenda-next-list" class="agenda-next-list">
            <!-- Riempito da JS -->
          </div>
        </div>
      </div>
    </section>
  
  </main>

  <!-- ============ VIEW TITOLARE ============ -->
  <main id="view-titolare" class="app-view hidden">
    <section class="role-layout">
      <div class="role-panel">
        <h2>Dashboard Titolare</h2>
        <p>Panoramica numerica della farmacia.</p>
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-label">Offerte totali</div>
            <div class="stat-value" id="stat-offerte-tot">0</div>
          </div>
          <div class="stat-card">
            <div class="stat-label">Giornate programmate</div>
            <div class="stat-value" id="stat-giornate-tot">0</div>
          </div>
          <div class="stat-card">
            <div class="stat-label">Appuntamenti totali</div>
            <div class="stat-value" id="stat-appuntamenti-tot">0</div>
          </div>
          <div class="stat-card">
            <div class="stat-label">Prodotti &lt; 60 gg</div>
            <div class="stat-value" id="stat-scadenze-tot">0</div>
          </div>
        </div>
      </div>

      <div class="role-panel">
        <h2>Dipendenti</h2>
        <p>Elenco dipendenti registrati nel portale.</p>
        <ul id="lista-dipendenti-titolare" class="simple-list"></ul>
      </div>
    </section>
  </main>

  <!-- ============ VIEW DIPENDENTE ============ -->
  <main id="view-dipendente" class="app-view hidden">
    <section class="role-layout">
      <div class="role-panel">
        <h2 id="dipendente-title">Area dipendente</h2>
        <p>Promemoria del giorno e informazioni rapide.</p>
        <div class="simple-box">
          <h3>Promemoria del giorno</h3>
          <ul class="simple-list">
            <li>Controlla eventuali comunicazioni interne.</li>
            <li>Verifica le tue assenze / permessi registrati.</li>
            <li>Consulta i servizi e gli appuntamenti di oggi.</li>
          </ul>
        </div>
      </div>

      <div class="role-panel">
        <h2>Appuntamenti di oggi</h2>
        <ul id="lista-appuntamenti-dip" class="simple-list"></ul>
      </div>
    </section>
  </main>

  <!-- ============ VIEW CLIENTE ============ -->
  <main id="view-cliente" class="app-view hidden">
    <section class="role-layout">
      <div class="role-panel">
        <h2 id="cliente-title">Area cliente</h2>
        <p>I tuoi appuntamenti e servizi in farmacia.</p>
        <div class="simple-box">
          <h3>I tuoi dati</h3>
          <p id="cliente-dati"></p>
        </div>
      </div>

      <div class="role-panel">
        <h2>Appuntamenti futuri</h2>
        <ul id="lista-appuntamenti-cli" class="simple-list"></ul>
      </div>
    </section>
  </main>

  <!-- ============ MODALE GENERICA ============ -->
  <div id="modal-backdrop" class="modal-backdrop hidden">
    <div class="modal">
      <header class="modal-header">
        <h3 id="modal-title">Titolo modal</h3>
        <button id="modal-close" type="button" class="link-button">Chiudi</button>
      </header>
      <div id="modal-body" class="modal-body">
        <!-- Contenuto dinamico da JS -->
      </div>
    </div>
  </div>

</div> <!-- fine #app -->

<script src="script.js"></script>
</body>
</html>
